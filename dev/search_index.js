var documenterSearchIndex = {"docs":
[{"location":"userguide/vega/#Using-Vega-1","page":"Using Vega","title":"Using Vega","text":"","category":"section"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"A Vega plot specification is represented as a VGSpec object in Julia. There are multiple ways to create a VGSpec object:","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"The @vgplot macro is the main way to create VGSpec instances in code.\nUsing the vg string macro, you can write Vega specifications as JSON in your Julia code.\nYou can load Vega specifications from disc with the load function.","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"There are two main things one can do with a VGSpec object:","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"One can display it in various front ends.\nOne can save the plot to disc in various formats using the save function.","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"This section will give a brief overview of these options.","category":"page"},{"location":"userguide/vega/#The-@vgplot-macro-1","page":"Using Vega","title":"The @vgplot macro","text":"","category":"section"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"The @vgplot macro is the main way to specify Vega plots in VegaLite.jl. The macro uses a syntax that is closely aligned with the JSON format of the original Vega specification. It is very simple to take a Vega specification and \"translate\" it into a corresponding @vgplot macro call.","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"A typical Vega JSON specification looks like this:","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"{\n  \"width\": 400,\n  \"height\": 200,\n  \"padding\": 5,\n\n  \"data\": [\n    {\n      \"name\": \"table\",\n      \"values\": [\n        {\"category\": \"A\", \"amount\": 28},\n        {\"category\": \"B\", \"amount\": 55},\n        {\"category\": \"C\", \"amount\": 43},\n        {\"category\": \"D\", \"amount\": 91},\n        {\"category\": \"E\", \"amount\": 81},\n        {\"category\": \"F\", \"amount\": 53},\n        {\"category\": \"G\", \"amount\": 19},\n        {\"category\": \"H\", \"amount\": 87}\n      ]\n    }\n  ],\n\n  \"signals\": [\n    {\n      \"name\": \"tooltip\",\n      \"value\": {},\n      \"on\": [\n        {\"events\": \"rect:mouseover\", \"update\": \"datum\"},\n        {\"events\": \"rect:mouseout\",  \"update\": \"{}\"}\n      ]\n    }\n  ],\n\n  \"scales\": [\n    {\n      \"name\": \"xscale\",\n      \"type\": \"band\",\n      \"domain\": {\"data\": \"table\", \"field\": \"category\"},\n      \"range\": \"width\",\n      \"padding\": 0.05,\n      \"round\": true\n    },\n    {\n      \"name\": \"yscale\",\n      \"domain\": {\"data\": \"table\", \"field\": \"amount\"},\n      \"nice\": true,\n      \"range\": \"height\"\n    }\n  ],\n\n  \"axes\": [\n    { \"orient\": \"bottom\", \"scale\": \"xscale\" },\n    { \"orient\": \"left\", \"scale\": \"yscale\" }\n  ],\n\n  \"marks\": [\n    {\n      \"type\": \"rect\",\n      \"from\": {\"data\":\"table\"},\n      \"encode\": {\n        \"enter\": {\n          \"x\": {\"scale\": \"xscale\", \"field\": \"category\"},\n          \"width\": {\"scale\": \"xscale\", \"band\": 1},\n          \"y\": {\"scale\": \"yscale\", \"field\": \"amount\"},\n          \"y2\": {\"scale\": \"yscale\", \"value\": 0}\n        },\n        \"update\": {\n          \"fill\": {\"value\": \"steelblue\"}\n        },\n        \"hover\": {\n          \"fill\": {\"value\": \"red\"}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"encode\": {\n        \"enter\": {\n          \"align\": {\"value\": \"center\"},\n          \"baseline\": {\"value\": \"bottom\"},\n          \"fill\": {\"value\": \"#333\"}\n        },\n        \"update\": {\n          \"x\": {\"scale\": \"xscale\", \"signal\": \"tooltip.category\", \"band\": 0.5},\n          \"y\": {\"scale\": \"yscale\", \"signal\": \"tooltip.amount\", \"offset\": -2},\n          \"text\": {\"signal\": \"tooltip.amount\"},\n          \"fillOpacity\": [\n            {\"test\": \"datum === tooltip\", \"value\": 0},\n            {\"value\": 1}\n          ]\n        }\n      }\n    }\n  ]\n}","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"This can be directly translated into the following @vgplot macro call:","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"using VegaLite\n\n@vgplot(\n    height=200,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    fill={\n                        value=\"steelblue\"\n                    }\n                },\n                hover={\n                    fill={\n                        value=\"red\"\n                    }\n                },\n                enter={\n                    x={\n                        field=\"category\",\n                        scale=\"xscale\"\n                    },\n                    y2={\n                        value=0,\n                        scale=\"yscale\"\n                    },\n                    width={\n                        scale=\"xscale\",\n                        band=1\n                    },\n                    y={\n                        field=\"amount\",\n                        scale=\"yscale\"\n                    }\n                }\n            },\n            from={\n                data=\"table\"\n            },\n            type=\"rect\"\n        },\n        {\n            encode={\n                update={\n                    x={\n                        signal=\"tooltip.category\",\n                        scale=\"xscale\",\n                        band=0.5\n                    },\n                    fillOpacity=[\n                        {\n                            test=\"datum === tooltip\",\n                            value=0\n                        },\n                        {\n                            value=1\n                        }\n                    ],\n                    text={\n                        signal=\"tooltip.amount\"\n                    },\n                    y={\n                        offset=-2,\n                        signal=\"tooltip.amount\",\n                        scale=\"yscale\"\n                    }\n                },\n                enter={\n                    fill={\n                        value=\"#333\"\n                    },\n                    baseline={\n                        value=\"bottom\"\n                    },\n                    align={\n                        value=\"center\"\n                    }\n                }\n            },\n            type=\"text\"\n        }\n    ],\n    axes=[\n        {\n            scale=\"xscale\",\n            orient=\"bottom\"\n        },\n        {\n            scale=\"yscale\",\n            orient=\"left\"\n        }\n    ],\n    data=[\n        {\n            name=\"table\",\n            values=[\n                {\n                    amount=28,\n                    category=\"A\"\n                },\n                {\n                    amount=55,\n                    category=\"B\"\n                },\n                {\n                    amount=43,\n                    category=\"C\"\n                },\n                {\n                    amount=91,\n                    category=\"D\"\n                },\n                {\n                    amount=81,\n                    category=\"E\"\n                },\n                {\n                    amount=53,\n                    category=\"F\"\n                },\n                {\n                    amount=19,\n                    category=\"G\"\n                },\n                {\n                    amount=87,\n                    category=\"H\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"xscale\",\n            padding=0.05,\n            range=\"width\",\n            domain={\n                data=\"table\",\n                field=\"category\"\n            },\n            type=\"band\",\n            round=true\n        },\n        {\n            name=\"yscale\",\n            nice=true,\n            range=\"height\",\n            domain={\n                data=\"table\",\n                field=\"amount\"\n            }\n        }\n    ],\n    width=400,\n    signals=[\n        {\n            name=\"tooltip\",\n            on=[\n                {\n                    events=\"rect:mouseover\",\n                    update=\"datum\"\n                },\n                {\n                    events=\"rect:mouseout\",\n                    update=\"{}\"\n                }\n            ],\n            value={\n\n            }\n        }\n    ]\n)","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"The main difference between JSON and the @vgplot macro is that keys are not surrounded by quotation marks in the macro, and key-value pairs are separate by a = (instead of a :).","category":"page"},{"location":"userguide/vega/#The-vg-string-macro-1","page":"Using Vega","title":"The vg string macro","text":"","category":"section"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"Similar to the vl string macro, the vg string macro takes the Vega spec as a JSON string and returns and renders a VGSpec.","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"using VegaLite\n\nspec = vg\"\"\"\n  {\n  \"width\": 400,\n  \"height\": 200,\n  \"padding\": 5,\n\n  \"data\": [\n    {\n      \"name\": \"table\",\n      \"values\": [\n        {\"category\": \"A\", \"amount\": 28},\n        {\"category\": \"B\", \"amount\": 55},\n        {\"category\": \"C\", \"amount\": 43},\n        {\"category\": \"D\", \"amount\": 91},\n        {\"category\": \"E\", \"amount\": 81},\n        {\"category\": \"F\", \"amount\": 53},\n        {\"category\": \"G\", \"amount\": 19},\n        {\"category\": \"H\", \"amount\": 87}\n      ]\n    }\n  ],\n\n  \"signals\": [\n    {\n      \"name\": \"tooltip\",\n      \"value\": {},\n      \"on\": [\n        {\"events\": \"rect:mouseover\", \"update\": \"datum\"},\n        {\"events\": \"rect:mouseout\",  \"update\": \"{}\"}\n      ]\n    }\n  ],\n\n  \"scales\": [\n    {\n      \"name\": \"xscale\",\n      \"type\": \"band\",\n      \"domain\": {\"data\": \"table\", \"field\": \"category\"},\n      \"range\": \"width\",\n      \"padding\": 0.05,\n      \"round\": true\n    },\n    {\n      \"name\": \"yscale\",\n      \"domain\": {\"data\": \"table\", \"field\": \"amount\"},\n      \"nice\": true,\n      \"range\": \"height\"\n    }\n  ],\n\n  \"axes\": [\n    { \"orient\": \"bottom\", \"scale\": \"xscale\" },\n    { \"orient\": \"left\", \"scale\": \"yscale\" }\n  ],\n\n  \"marks\": [\n    {\n      \"type\": \"rect\",\n      \"from\": {\"data\":\"table\"},\n      \"encode\": {\n        \"enter\": {\n          \"x\": {\"scale\": \"xscale\", \"field\": \"category\"},\n          \"width\": {\"scale\": \"xscale\", \"band\": 1},\n          \"y\": {\"scale\": \"yscale\", \"field\": \"amount\"},\n          \"y2\": {\"scale\": \"yscale\", \"value\": 0}\n        },\n        \"update\": {\n          \"fill\": {\"value\": \"steelblue\"}\n        },\n        \"hover\": {\n          \"fill\": {\"value\": \"red\"}\n        }\n      }\n    },\n    {\n      \"type\": \"text\",\n      \"encode\": {\n        \"enter\": {\n          \"align\": {\"value\": \"center\"},\n          \"baseline\": {\"value\": \"bottom\"},\n          \"fill\": {\"value\": \"#333\"}\n        },\n        \"update\": {\n          \"x\": {\"scale\": \"xscale\", \"signal\": \"tooltip.category\", \"band\": 0.5},\n          \"y\": {\"scale\": \"yscale\", \"signal\": \"tooltip.amount\", \"offset\": -2},\n          \"text\": {\"signal\": \"tooltip.amount\"},\n          \"fillOpacity\": [\n            {\"test\": \"datum === tooltip\", \"value\": 0},\n            {\"value\": 1}\n          ]\n        }\n      }\n    }\n  ]\n  }\n\"\"\"","category":"page"},{"location":"userguide/vega/#Data-1","page":"Using Vega","title":"Data","text":"","category":"section"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"The easiest way to pass data into a Vega spec is to use the @vgplot macro, and assign the data to the data element. There are various options:","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"You can pass a Pair as an element in the data vector, where the key is the name of the data source and the value any iterable table.\nYou can also assign any iterable table to the value field inside a composite object in the data vector.","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"The first option looks like this:","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"...,\ndata = [:my_datasource_name=>mydataframe],\n...","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"The second option looks like this:","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"...,\ndata = [\n  {\n    name=:my_datasource,\n    values=mydataframe\n  }\n],\n...","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"A full example of a Vega plot that uses the first option looks like this:","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=200,\n    width=200,\n    padding=5,    \n    data=[:source=>dataset(\"cars\")],    \n    marks=[{\n        name=\"marks\",\n        encode={\n            update={\n                shape={value=\"circle\"},\n                x={field=\"Horsepower\", scale=\"x\"},\n                y={field=\"Miles_per_Gallon\", scale=\"y\"}\n            }\n        },\n        from={data=\"source\"},\n        type=\"symbol\"\n    }],\n    axes=[\n        {\n            domain=false,\n            tickCount=5,\n            grid=true,\n            title=\"Horsepower\",\n            scale=\"x\",\n            orient=\"bottom\"\n        },\n        {\n            domain=false,\n            grid=true,\n            titlePadding=5,\n            title=\"Miles_per_Gallon\",\n            scale=\"y\",\n            orient=\"left\"\n        }\n    ],    \n    scales=[\n        {\n            name=\"x\",\n            nice=true,\n            zero=true,\n            range=\"width\",\n            domain={data=\"source\",field=\"Horsepower\"},\n            type=\"linear\",\n            round=true\n        },\n        {\n            name=\"y\",\n            nice=true,\n            zero=true,\n            range=\"height\",\n            domain={data=\"source\",field=\"Miles_per_Gallon\"},\n            type=\"linear\",\n            round=true\n        }\n    ]\n)","category":"page"},{"location":"userguide/vega/#Loading-and-saving-Vega-specifications-1","page":"Using Vega","title":"Loading and saving Vega specifications","text":"","category":"section"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"The load and save functions can be used to load and save vega specifications to and from disc. The following example loads a vega specification from a file named myfigure.vega:","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"using VegaLite\n\nspec = load(\"myfigure.vega\")","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"To save a VGSpec to a file on disc, use the save function:","category":"page"},{"location":"userguide/vega/#","page":"Using Vega","title":"Using Vega","text":"using VegaLite\n\nspec = ... # Aquire a spec from somewhere\n\nspec |> save(\"myfigure.vega\")","category":"page"},{"location":"userguide/vlspec/#Vega-lite-specifications-1","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"A Vega-Lite plot specification is represented as a VLSpec object in Julia. There are multiple ways to create a VLSpec object:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The @vlplot macro is the main way to create VLSpec instances in code.\nUsing the vl string macro, you can write Vega-Lite specifications as JSON in your Julia code.\nYou can load Vega-Lite specifications from disc with the load function.\nThe DataVoyager.jl package provides a graphical user interface that you can use to create Vega-Lite specification.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"There are two main things one can do with a VLSpec object:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"One can display it in various front ends.\nOne can save the plot to disc in various formats using the save function.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"This section will give a brief overview of these options. Other sections will describe each option in more detail.","category":"page"},{"location":"userguide/vlspec/#The-@vlplot-macro-1","page":"Vega-lite specifications","title":"The @vlplot macro","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The @vlplot macro is the main way to specify plots in VegaLite.jl. The macro uses a syntax that is closely aligned with the JSON format of the original Vega-Lite specification. It is very simple to take a vega-lite specification and \"translate\" it into a corresponding @vlplot macro call. In addition, the macro provides a number of convenient syntax features that allow for a concise expression of common vega-lite patterns. These shorthands give VegaLite.jl a syntax that can be used in a productive way for exploratory data analysis.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"A very simple Vega-Lite JSON specification looks like this:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"{\n  \"data\": {\n    \"values\": [\n      {\"a\": \"A\",\"b\": 28}, {\"a\": \"B\",\"b\": 55}, {\"a\": \"C\",\"b\": 43},\n      {\"a\": \"D\",\"b\": 91}, {\"a\": \"E\",\"b\": 81}, {\"a\": \"F\",\"b\": 53},\n      {\"a\": \"G\",\"b\": 19}, {\"a\": \"H\",\"b\": 87}, {\"a\": \"I\",\"b\": 52}\n    ]\n  },\n  \"mark\": \"bar\",\n  \"encoding\": {\n    \"x\": {\"field\": \"a\", \"type\": \"ordinal\"},\n    \"y\": {\"field\": \"b\", \"type\": \"quantitative\"}\n  }\n}","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"This can be directly translated into the following @vlplot macro call:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite\n\n@vlplot(\n    data={\n        values=[\n            {a=\"A\",b=28},{a=\"B\",b=55},{a=\"C\",b=43},\n            {a=\"D\",b=91},{a=\"E\",b=81},{a=\"F\",b=53},\n            {a=\"G\",b=19},{a=\"H\",b=87},{a=\"I\",b=52}\n        ]\n    },\n    mark=\"bar\",\n    encoding={\n        x={field=\"a\", type=\"ordinal\"},\n        y={field=\"b\", type=\"quantitative\"}\n    }\n)","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The main difference between JSON and the @vlplot macro is that keys are not surrounded by quotation marks in the macro, and key-value pairs are separate by a = (instead of a :).","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"While these literal translations of JSON work, they are also quite verbose. The @vlplot macro provides a number of shorthands so that the same plot can be expressed in a much more concise manner. The following example creates the same plot, but uses a number of alternative syntaxes provided by the @vlplot macro:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    a=[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\"],\n    b=[28,55,43,91,81,53,19,87,52]\n)\n\ndata |> @vlplot(:bar, :a, :b)","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"Typically you should use these shorthands so that you can express your plots in a concise way. The various shorthands are described in more detail in a different chapter.","category":"page"},{"location":"userguide/vlspec/#The-vl-string-macro-1","page":"Vega-lite specifications","title":"The vl string macro","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"One can embed a JSON vega-lite specification directly in Julia code by using the vl string macro:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite\n\nspec = vl\"\"\"\n{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v2.json\",\n  \"description\": \"A simple bar chart with embedded data.\",\n  \"data\": {\n    \"values\": [\n      {\"a\": \"A\",\"b\": 28}, {\"a\": \"B\",\"b\": 55}, {\"a\": \"C\",\"b\": 43},\n      {\"a\": \"D\",\"b\": 91}, {\"a\": \"E\",\"b\": 81}, {\"a\": \"F\",\"b\": 53},\n      {\"a\": \"G\",\"b\": 19}, {\"a\": \"H\",\"b\": 87}, {\"a\": \"I\",\"b\": 52}\n    ]\n  },\n  \"mark\": \"bar\",\n  \"encoding\": {\n    \"x\": {\"field\": \"a\", \"type\": \"ordinal\"},\n    \"y\": {\"field\": \"b\", \"type\": \"quantitative\"}\n  }\n}\n\"\"\"","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The resulting VLSpec object is indistinguishable from one that is created via the @vlplot macro.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The main benefit of this approach is that one can directly leverage JSON vega-lite examples and code.","category":"page"},{"location":"userguide/vlspec/#Manipulating-VLSpec-object-directly-1","page":"Vega-lite specifications","title":"Manipulating VLSpec object directly","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"Vega-Lite properties can be directly accessed as properties of the VLSpec object.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"julia> using VegaLite, VegaDatasets\n\njulia> spec = dataset(\"cars\") |>\n              @vlplot(:point, x=:Acceleration, y=:Cylinders)\n\njulia> spec.mark\n:point\n\njulia> spec.encoding.x.field\n\"Acceleration\"","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"To modify properties, use Setfield.jl:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"julia> using Setfield  # imports `@set` etc.\n\njulia> spec2 = @set spec.mark = :line\n       spec3 = @set spec2.encoding.y.field = \"Miles_per_Gallon\"","category":"page"},{"location":"userguide/vlspec/#Loading-and-saving-vega-lite-specifications-1","page":"Vega-lite specifications","title":"Loading and saving vega-lite specifications","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The load and save functions can be used to load and save vega-lite specifications to and from disc. The following example loads a vega-lite specification from a file named myfigure.vegalite:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite\n\nspec = load(\"myfigure.vegalite\")","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"To save a VLSpec to a file on disc, use the save function:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite\n\nspec = ... # Aquire a spec from somewhere\n\nspec |> save(\"myfigure.vegalite\")","category":"page"},{"location":"userguide/vlspec/#[DataVoyager.jl](https://github.com/queryverse/DataVoyager.jl)-1","page":"Vega-lite specifications","title":"DataVoyager.jl","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"The DataVoyager.jl package provides a graphical UI for data exploration that is based on vega-lite. One can use that tool to create a figure in the UI, and then export the corresponding vega-lite specification for use with this package here.","category":"page"},{"location":"userguide/vlspec/#Displaying-plots-1","page":"Vega-lite specifications","title":"Displaying plots","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"VegaLite.jl integrates into the default Julia multimedia system for viewing plots. This means that in order to show a plot p you would simply call the display(p) function. Most interactive Julia environments (REPL, IJulia, Jupyter Lab, nteract etc.) automatically call display on the value of the last interactive command for you.","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"Simply viewing plots should work out of the box in all known Julia environments. If you plan to use the interactive features of VegaLite.jl the story becomes slightly more nuanced: while many environments (REPL, Jupyter Lab, nteract, ElectronDisplay.jl, VS Code) support interactive VegaLite.jl plots by default, there are others that either need some extra configuration work (Jupyter Notebook), or don't support interactive plots.","category":"page"},{"location":"userguide/vlspec/#Saving-plots-1","page":"Vega-lite specifications","title":"Saving plots","text":"","category":"section"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"VegaLite.jl plots can be saved as PNG, SVG, PDF and EPS files. You can save a plot by calling the save function:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite, VegaDatasets\n\np = dataset(\"cars\") |> @vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon)\n\n# Save as PNG file\nsave(\"figure.png\", p)\n\n# Save as SVG file\nsave(\"figure.svg\", p)\n\n# Save as PDF file\nsave(\"figure.pdf\", p)\n\n# Save EPS PNG file\nsave(\"figure.eps\", p)","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"You can also use the |> operator with the save function:","category":"page"},{"location":"userguide/vlspec/#","page":"Vega-lite specifications","title":"Vega-lite specifications","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n    @vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon) |>\n    save(\"figure.png\")","category":"page"},{"location":"examples/examples_vega_line_area_charts/#Line-and-Area-Charts-1","page":"Line & Area Charts","title":"Line & Area Charts","text":"","category":"section"},{"location":"examples/examples_vega_line_area_charts/#Line-Chart-1","page":"Line & Area Charts","title":"Line Chart","text":"","category":"section"},{"location":"examples/examples_vega_line_area_charts/#","page":"Line & Area Charts","title":"Line & Area Charts","text":"using VegaLite\n\n@vgplot(\n    height=200,\n    padding=5,\n    marks=[\n        {\n            marks=[\n                {\n                    encode={\n                        update={\n                            interpolate={\n                                signal=\"interpolate\"\n                            },\n                            fillOpacity={\n                                value=1\n                            }\n                        },\n                        hover={\n                            fillOpacity={\n                                value=0.5\n                            }\n                        },\n                        enter={\n                            stroke={\n                                field=\"c\",\n                                scale=\"color\"\n                            },\n                            x={\n                                field=\"x\",\n                                scale=\"x\"\n                            },\n                            strokeWidth={\n                                value=2\n                            },\n                            y={\n                                field=\"y\",\n                                scale=\"y\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"series\"\n                    },\n                    type=\"line\"\n                }\n            ],\n            from={\n                facet={\n                    name=\"series\",\n                    data=\"table\",\n                    groupby=\"c\"\n                }\n            },\n            type=\"group\"\n        }\n    ],\n    axes=[\n        {\n            scale=\"x\",\n            orient=\"bottom\"\n        },\n        {\n            scale=\"y\",\n            orient=\"left\"\n        }\n    ],\n    data=[\n        {\n            name=\"table\",\n            values=[\n                {\n                    c=0,\n                    x=0,\n                    y=28\n                },\n                {\n                    c=1,\n                    x=0,\n                    y=20\n                },\n                {\n                    c=0,\n                    x=1,\n                    y=43\n                },\n                {\n                    c=1,\n                    x=1,\n                    y=35\n                },\n                {\n                    c=0,\n                    x=2,\n                    y=81\n                },\n                {\n                    c=1,\n                    x=2,\n                    y=10\n                },\n                {\n                    c=0,\n                    x=3,\n                    y=19\n                },\n                {\n                    c=1,\n                    x=3,\n                    y=15\n                },\n                {\n                    c=0,\n                    x=4,\n                    y=52\n                },\n                {\n                    c=1,\n                    x=4,\n                    y=48\n                },\n                {\n                    c=0,\n                    x=5,\n                    y=24\n                },\n                {\n                    c=1,\n                    x=5,\n                    y=28\n                },\n                {\n                    c=0,\n                    x=6,\n                    y=87\n                },\n                {\n                    c=1,\n                    x=6,\n                    y=66\n                },\n                {\n                    c=0,\n                    x=7,\n                    y=17\n                },\n                {\n                    c=1,\n                    x=7,\n                    y=27\n                },\n                {\n                    c=0,\n                    x=8,\n                    y=68\n                },\n                {\n                    c=1,\n                    x=8,\n                    y=16\n                },\n                {\n                    c=0,\n                    x=9,\n                    y=49\n                },\n                {\n                    c=1,\n                    x=9,\n                    y=25\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"x\",\n            range=\"width\",\n            domain={\n                data=\"table\",\n                field=\"x\"\n            },\n            type=\"point\"\n        },\n        {\n            name=\"y\",\n            nice=true,\n            zero=true,\n            range=\"height\",\n            domain={\n                data=\"table\",\n                field=\"y\"\n            },\n            type=\"linear\"\n        },\n        {\n            name=\"color\",\n            range=\"category\",\n            domain={\n                data=\"table\",\n                field=\"c\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=500,\n    signals=[\n        {\n            name=\"interpolate\",\n            bind={\n                options=[\n                    \"basis\",\n                    \"cardinal\",\n                    \"catmull-rom\",\n                    \"linear\",\n                    \"monotone\",\n                    \"natural\",\n                    \"step\",\n                    \"step-after\",\n                    \"step-before\"\n                ],\n                input=\"select\"\n            },\n            value=\"linear\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_line_area_charts/#Area-Chart-1","page":"Line & Area Charts","title":"Area Chart","text":"","category":"section"},{"location":"examples/examples_vega_line_area_charts/#","page":"Line & Area Charts","title":"Line & Area Charts","text":"using VegaLite\n\n@vgplot(\n    height=200,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    interpolate={\n                        signal=\"interpolate\"\n                    },\n                    fillOpacity={\n                        value=1\n                    }\n                },\n                hover={\n                    fillOpacity={\n                        value=0.5\n                    }\n                },\n                enter={\n                    x={\n                        field=\"u\",\n                        scale=\"xscale\"\n                    },\n                    y2={\n                        value=0,\n                        scale=\"yscale\"\n                    },\n                    fill={\n                        value=\"steelblue\"\n                    },\n                    y={\n                        field=\"v\",\n                        scale=\"yscale\"\n                    }\n                }\n            },\n            from={\n                data=\"table\"\n            },\n            type=\"area\"\n        }\n    ],\n    axes=[\n        {\n            tickCount=20,\n            scale=\"xscale\",\n            orient=\"bottom\"\n        },\n        {\n            scale=\"yscale\",\n            orient=\"left\"\n        }\n    ],\n    data=[\n        {\n            name=\"table\",\n            values=[\n                {\n                    v=28,\n                    u=1\n                },\n                {\n                    v=55,\n                    u=2\n                },\n                {\n                    v=43,\n                    u=3\n                },\n                {\n                    v=91,\n                    u=4\n                },\n                {\n                    v=81,\n                    u=5\n                },\n                {\n                    v=53,\n                    u=6\n                },\n                {\n                    v=19,\n                    u=7\n                },\n                {\n                    v=87,\n                    u=8\n                },\n                {\n                    v=52,\n                    u=9\n                },\n                {\n                    v=48,\n                    u=10\n                },\n                {\n                    v=24,\n                    u=11\n                },\n                {\n                    v=49,\n                    u=12\n                },\n                {\n                    v=87,\n                    u=13\n                },\n                {\n                    v=66,\n                    u=14\n                },\n                {\n                    v=17,\n                    u=15\n                },\n                {\n                    v=27,\n                    u=16\n                },\n                {\n                    v=68,\n                    u=17\n                },\n                {\n                    v=16,\n                    u=18\n                },\n                {\n                    v=49,\n                    u=19\n                },\n                {\n                    v=15,\n                    u=20\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"xscale\",\n            zero=false,\n            range=\"width\",\n            domain={\n                data=\"table\",\n                field=\"u\"\n            },\n            type=\"linear\"\n        },\n        {\n            name=\"yscale\",\n            nice=true,\n            zero=true,\n            range=\"height\",\n            domain={\n                data=\"table\",\n                field=\"v\"\n            },\n            type=\"linear\"\n        }\n    ],\n    width=500,\n    signals=[\n        {\n            name=\"interpolate\",\n            bind={\n                options=[\n                    \"basis\",\n                    \"cardinal\",\n                    \"catmull-rom\",\n                    \"linear\",\n                    \"monotone\",\n                    \"natural\",\n                    \"step\",\n                    \"step-after\",\n                    \"step-before\"\n                ],\n                input=\"select\"\n            },\n            value=\"monotone\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_line_area_charts/#Stacked-Area-Chart-1","page":"Line & Area Charts","title":"Stacked Area Chart","text":"","category":"section"},{"location":"examples/examples_vega_line_area_charts/#","page":"Line & Area Charts","title":"Line & Area Charts","text":"using VegaLite\n\n@vgplot(\n    height=200,\n    padding=5,\n    marks=[\n        {\n            marks=[\n                {\n                    encode={\n                        update={\n                            fillOpacity={\n                                value=1\n                            }\n                        },\n                        hover={\n                            fillOpacity={\n                                value=0.5\n                            }\n                        },\n                        enter={\n                            interpolate={\n                                value=\"monotone\"\n                            },\n                            x={\n                                field=\"x\",\n                                scale=\"x\"\n                            },\n                            y2={\n                                field=\"y1\",\n                                scale=\"y\"\n                            },\n                            fill={\n                                field=\"c\",\n                                scale=\"color\"\n                            },\n                            y={\n                                field=\"y0\",\n                                scale=\"y\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"series\"\n                    },\n                    type=\"area\"\n                }\n            ],\n            from={\n                facet={\n                    name=\"series\",\n                    data=\"table\",\n                    groupby=\"c\"\n                }\n            },\n            type=\"group\"\n        }\n    ],\n    axes=[\n        {\n            zindex=1,\n            scale=\"x\",\n            orient=\"bottom\"\n        },\n        {\n            zindex=1,\n            scale=\"y\",\n            orient=\"left\"\n        }\n    ],\n    data=[\n        {\n            name=\"table\",\n            values=[\n                {\n                    c=0,\n                    x=0,\n                    y=28\n                },\n                {\n                    c=1,\n                    x=0,\n                    y=55\n                },\n                {\n                    c=0,\n                    x=1,\n                    y=43\n                },\n                {\n                    c=1,\n                    x=1,\n                    y=91\n                },\n                {\n                    c=0,\n                    x=2,\n                    y=81\n                },\n                {\n                    c=1,\n                    x=2,\n                    y=53\n                },\n                {\n                    c=0,\n                    x=3,\n                    y=19\n                },\n                {\n                    c=1,\n                    x=3,\n                    y=87\n                },\n                {\n                    c=0,\n                    x=4,\n                    y=52\n                },\n                {\n                    c=1,\n                    x=4,\n                    y=48\n                },\n                {\n                    c=0,\n                    x=5,\n                    y=24\n                },\n                {\n                    c=1,\n                    x=5,\n                    y=49\n                },\n                {\n                    c=0,\n                    x=6,\n                    y=87\n                },\n                {\n                    c=1,\n                    x=6,\n                    y=66\n                },\n                {\n                    c=0,\n                    x=7,\n                    y=17\n                },\n                {\n                    c=1,\n                    x=7,\n                    y=27\n                },\n                {\n                    c=0,\n                    x=8,\n                    y=68\n                },\n                {\n                    c=1,\n                    x=8,\n                    y=16\n                },\n                {\n                    c=0,\n                    x=9,\n                    y=49\n                },\n                {\n                    c=1,\n                    x=9,\n                    y=15\n                }\n            ],\n            transform=[\n                {\n                    sort={\n                        field=\"c\"\n                    },\n                    field=\"y\",\n                    groupby=[\n                        \"x\"\n                    ],\n                    type=\"stack\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"x\",\n            range=\"width\",\n            domain={\n                data=\"table\",\n                field=\"x\"\n            },\n            type=\"point\"\n        },\n        {\n            name=\"y\",\n            nice=true,\n            zero=true,\n            range=\"height\",\n            domain={\n                data=\"table\",\n                field=\"y1\"\n            },\n            type=\"linear\"\n        },\n        {\n            name=\"color\",\n            range=\"category\",\n            domain={\n                data=\"table\",\n                field=\"c\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=500\n)","category":"page"},{"location":"examples/examples_vega_line_area_charts/#Horizon-Graph-1","page":"Line & Area Charts","title":"Horizon Graph","text":"","category":"section"},{"location":"examples/examples_vega_line_area_charts/#","page":"Line & Area Charts","title":"Line & Area Charts","text":"using VegaLite\n\n@vgplot(\n    height=100,\n    marks=[\n        {\n            marks=[\n                {\n                    marks=[\n                        {\n                            encode={\n                                update={\n                                    y2={\n                                        value=0,\n                                        scale=\"y\"\n                                    },\n                                    fillOpacity={\n                                        signal=\"opacity\"\n                                    },\n                                    y={\n                                        field=\"y\",\n                                        scale=\"y\"\n                                    }\n                                },\n                                enter={\n                                    interpolate={\n                                        value=\"monotone\"\n                                    },\n                                    x={\n                                        field=\"x\",\n                                        scale=\"x\"\n                                    },\n                                    fill={\n                                        value=\"steelblue\"\n                                    }\n                                }\n                            },\n                            from={\n                                data=\"table\"\n                            },\n                            type=\"area\"\n                        }\n                    ],\n                    encode={\n                        update={\n                            y={\n                                field=\"offset\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"layer_indices\"\n                    },\n                    type=\"group\"\n                }\n            ],\n            encode={\n                update={\n                    height={\n                        field={\n                            group=\"height\"\n                        }\n                    },\n                    clip={\n                        value=true\n                    },\n                    width={\n                        field={\n                            group=\"width\"\n                        }\n                    }\n                }\n            },\n            type=\"group\"\n        }\n    ],\n    axes=[\n        {\n            tickCount=20,\n            scale=\"x\",\n            orient=\"bottom\"\n        }\n    ],\n    data=[\n        {\n            name=\"layer_indices\",\n            values=[\n                0,\n                1,\n                2,\n                3\n            ],\n            transform=[\n                {\n                    expr=\"datum.data < layers\",\n                    type=\"filter\"\n                },\n                {\n                    as=\"offset\",\n                    expr=\"datum.data * -height\",\n                    type=\"formula\"\n                }\n            ]\n        },\n        {\n            name=\"table\",\n            values=[\n                {\n                    x=1,\n                    y=28\n                },\n                {\n                    x=2,\n                    y=55\n                },\n                {\n                    x=3,\n                    y=43\n                },\n                {\n                    x=4,\n                    y=91\n                },\n                {\n                    x=5,\n                    y=81\n                },\n                {\n                    x=6,\n                    y=53\n                },\n                {\n                    x=7,\n                    y=19\n                },\n                {\n                    x=8,\n                    y=87\n                },\n                {\n                    x=9,\n                    y=52\n                },\n                {\n                    x=10,\n                    y=48\n                },\n                {\n                    x=11,\n                    y=24\n                },\n                {\n                    x=12,\n                    y=49\n                },\n                {\n                    x=13,\n                    y=87\n                },\n                {\n                    x=14,\n                    y=66\n                },\n                {\n                    x=15,\n                    y=17\n                },\n                {\n                    x=16,\n                    y=27\n                },\n                {\n                    x=17,\n                    y=68\n                },\n                {\n                    x=18,\n                    y=16\n                },\n                {\n                    x=19,\n                    y=49\n                },\n                {\n                    x=20,\n                    y=15\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"x\",\n            zero=false,\n            range=\"width\",\n            domain={\n                data=\"table\",\n                field=\"x\"\n            },\n            type=\"linear\",\n            round=true\n        },\n        {\n            name=\"y\",\n            nice=true,\n            zero=true,\n            range=[\n                {\n                    signal=\"vheight\"\n                },\n                0\n            ],\n            domain={\n                data=\"table\",\n                field=\"y\"\n            },\n            type=\"linear\"\n        }\n    ],\n    width=500,\n    signals=[\n        {\n            name=\"layers\",\n            bind={\n                options=[\n                    1,\n                    2,\n                    3,\n                    4\n                ],\n                input=\"select\"\n            },\n            on=[\n                {\n                    events=\"mousedown!\",\n                    update=\"1 + (layers % 4)\"\n                }\n            ],\n            value=2\n        },\n        {\n            name=\"height\",\n            update=\"floor(200 / layers)\"\n        },\n        {\n            name=\"vheight\",\n            update=\"height * layers\"\n        },\n        {\n            name=\"opacity\",\n            update=\"pow(layers, -2/3)\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_line_area_charts/#Job-Voyager-1","page":"Line & Area Charts","title":"Job Voyager","text":"","category":"section"},{"location":"examples/examples_vega_line_area_charts/#","page":"Line & Area Charts","title":"Line & Area Charts","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=500,\n    padding=5,\n    marks=[\n        {\n            marks=[\n                {\n                    encode={\n                        update={\n                            x={\n                                field=\"year\",\n                                scale=\"x\"\n                            },\n                            y2={\n                                field=\"y1\",\n                                scale=\"y\"\n                            },\n                            fillOpacity={\n                                field={\n                                    parent=\"sum\"\n                                },\n                                scale=\"alpha\"\n                            },\n                            fill={\n                                field=\"sex\",\n                                scale=\"color\"\n                            },\n                            y={\n                                field=\"y0\",\n                                scale=\"y\"\n                            }\n                        },\n                        hover={\n                            fillOpacity={\n                                value=0.2\n                            }\n                        }\n                    },\n                    from={\n                        data=\"facet\"\n                    },\n                    type=\"area\"\n                }\n            ],\n            from={\n                data=\"series\",\n                facet={\n                    name=\"facet\",\n                    data=\"jobs\",\n                    groupby=[\n                        \"job\",\n                        \"sex\"\n                    ]\n                }\n            },\n            type=\"group\"\n        },\n        {\n            encode={\n                update={\n                    text={\n                        field=\"job\"\n                    },\n                    align={\n                        field=\"argmax.year\",\n                        scale=\"align\"\n                    },\n                    baseline={\n                        value=\"middle\"\n                    },\n                    x={\n                        field=\"argmax.year\",\n                        scale=\"x\"\n                    },\n                    dx={\n                        field=\"argmax.year\",\n                        scale=\"offset\"\n                    },\n                    fill={\n                        value=\"#000\"\n                    },\n                    fillOpacity={\n                        field=\"argmax.perc\",\n                        scale=\"opacity\"\n                    },\n                    fontSize={\n                        offset=5,\n                        field=\"argmax.perc\",\n                        scale=\"font\"\n                    },\n                    y={\n                        signal=\"scale('y', 0.5 * (datum.argmax.y0 + datum.argmax.y1))\"\n                    }\n                }\n            },\n            interactive=false,\n            from={\n                data=\"series\"\n            },\n            type=\"text\"\n        }\n    ],\n    axes=[\n        {\n            format=\"d\",\n            tickCount=15,\n            scale=\"x\",\n            orient=\"bottom\"\n        },\n        {\n            format=\"%\",\n            domain=false,\n            encode={\n                grid={\n                    enter={\n                        stroke={\n                            value=\"#ccc\"\n                        }\n                    }\n                },\n                ticks={\n                    enter={\n                        stroke={\n                            value=\"#ccc\"\n                        }\n                    }\n                }\n            },\n            grid=true,\n            scale=\"y\",\n            orient=\"right\",\n            tickSize=12\n        }\n    ],\n    data=[\n        {\n            name=\"jobs\",\n            values=dataset(\"jobs\"),\n            transform=[\n                {\n                    expr=\"(sex === 'all' || datum.sex === sex) && (!query || test(regexp(query,'i'), datum.job))\",\n                    type=\"filter\"\n                },\n                {\n                    sort={\n                        order=[\n                            \"descending\",\n                            \"descending\"\n                        ],\n                        field=[\n                            \"job\",\n                            \"sex\"\n                        ]\n                    },\n                    field=\"perc\",\n                    groupby=[\n                        \"year\"\n                    ],\n                    type=\"stack\"\n                }\n            ]\n        },\n        {\n            name=\"series\",\n            source=\"jobs\",\n            transform=[\n                {\n                    fields=[\n                        \"perc\",\n                        \"perc\"\n                    ],\n                    ops=[\n                        \"sum\",\n                        \"argmax\"\n                    ],\n                    as=[\n                        \"sum\",\n                        \"argmax\"\n                    ],\n                    groupby=[\n                        \"job\",\n                        \"sex\"\n                    ],\n                    type=\"aggregate\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"x\",\n            zero=false,\n            range=\"width\",\n            domain={\n                data=\"jobs\",\n                field=\"year\"\n            },\n            type=\"linear\",\n            round=true\n        },\n        {\n            name=\"y\",\n            zero=true,\n            range=\"height\",\n            domain={\n                data=\"jobs\",\n                field=\"y1\"\n            },\n            type=\"linear\",\n            round=true\n        },\n        {\n            name=\"color\",\n            range=[\n                \"#33f\",\n                \"#f33\"\n            ],\n            domain=[\n                \"men\",\n                \"women\"\n            ],\n            type=\"ordinal\"\n        },\n        {\n            name=\"alpha\",\n            zero=true,\n            range=[\n                0.4,\n                0.8\n            ],\n            domain={\n                data=\"series\",\n                field=\"sum\"\n            },\n            type=\"linear\"\n        },\n        {\n            name=\"font\",\n            zero=true,\n            range=[\n                0,\n                20\n            ],\n            domain={\n                data=\"series\",\n                field=\"argmax.perc\"\n            },\n            type=\"sqrt\",\n            round=true\n        },\n        {\n            name=\"opacity\",\n            range=[\n                0,\n                0,\n                0,\n                0,\n                0,\n                0.1,\n                0.2,\n                0.4,\n                0.7,\n                1.0\n            ],\n            domain={\n                data=\"series\",\n                field=\"argmax.perc\"\n            },\n            type=\"quantile\"\n        },\n        {\n            name=\"align\",\n            zero=false,\n            range=[\n                \"left\",\n                \"center\",\n                \"right\"\n            ],\n            domain=[\n                1730,\n                2130\n            ],\n            type=\"quantize\"\n        },\n        {\n            name=\"offset\",\n            zero=false,\n            range=[\n                6,\n                0,\n                -6\n            ],\n            domain=[\n                1730,\n                2130\n            ],\n            type=\"quantize\"\n        }\n    ],\n    width=800,\n    signals=[\n        {\n            name=\"sex\",\n            bind={\n                options=[\n                    \"men\",\n                    \"women\",\n                    \"all\"\n                ],\n                input=\"radio\"\n            },\n            value=\"all\"\n        },\n        {\n            name=\"query\",\n            bind={\n                input=\"text\",\n                placeholder=\"search\",\n                autocomplete=\"off\"\n            },\n            on=[\n                {\n                    events=\"area:click!\",\n                    update=\"datum.job\"\n                },\n                {\n                    events=\"dblclick!\",\n                    update=\"''\"\n                }\n            ],\n            value=\"\"\n        }\n    ]\n)","category":"page"},{"location":"referencemanual/global/#Global-settings-1","page":"Global settings","title":"Global settings","text":"","category":"section"},{"location":"referencemanual/global/#","page":"Global settings","title":"Global settings","text":"renderer","category":"page"},{"location":"referencemanual/global/#VegaLite.renderer","page":"Global settings","title":"VegaLite.renderer","text":"renderer()\n\nshow current rendering mode (svg or canvas)\n\nrenderer(::Symbol)\n\nset rendering mode (svg or canvas)\n\n\n\n\n\n","category":"function"},{"location":"referencemanual/global/#","page":"Global settings","title":"Global settings","text":"actionlinks","category":"page"},{"location":"referencemanual/global/#VegaLite.actionlinks","page":"Global settings","title":"VegaLite.actionlinks","text":"actionlinks()::Bool\n\nshow if plots will have (true) or not (false) the action links displayed\n\nactionlinks(::Bool)\n\nindicate if actions links should be dislpayed under the plot\n\n\n\n\n\n","category":"function"},{"location":"examples/examples_barchartshistograms/#Bar-Charts-and-Histograms-1","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#Simple-Bar-Chart-1","page":"Bar Charts & Histograms","title":"Simple Bar Chart","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    a=[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\"],\n    b=[28,55,43,91,81,53,19,87,52]\n)\n\ndata |> @vlplot(:bar, x=\"a:o\", y=:b)","category":"page"},{"location":"examples/examples_barchartshistograms/#Histogram-1","page":"Bar Charts & Histograms","title":"Histogram","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(:bar, x={:IMDB_Rating, bin=true}, y=\"count()\")","category":"page"},{"location":"examples/examples_barchartshistograms/#Aggregate-Bar-Chart-1","page":"Bar Charts & Histograms","title":"Aggregate Bar Chart","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    :bar,\n    transform=[{filter=\"datum.year == 2000\"}],\n    y=\"age:o\",\n    x={\"sum(people)\", axis={title=\"population\"}}\n)","category":"page"},{"location":"examples/examples_barchartshistograms/#Grouped-Bar-Chart-1","page":"Bar Charts & Histograms","title":"Grouped Bar Chart","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    :bar,\n    transform=[\n        {filter=\"datum.year == 2000\"},\n        {calculate=\"datum.sex == 2 ? 'Female' : 'Male'\", as=\"gender\"}\n    ],\n    column=\"age:o\",\n    y={\"sum(people)\", axis={title=\"population\", grid=false}},\n    x={\"gender:n\", axis={title=\"\"}},\n    color={\"gender:n\", scale={range=[\"#EA98D2\", \"#659CCA\"]}},\n    spacing=10,\n    config={\n        view={stroke=:transparent},\n        axis={domainWidth=1}\n    }\n)","category":"page"},{"location":"examples/examples_barchartshistograms/#Stacked-Bar-Chart-1","page":"Bar Charts & Histograms","title":"Stacked Bar Chart","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite, VegaDatasets\n\ndataset(\"seattle-weather\") |>\n@vlplot(\n    :bar,\n    x={\"month(date):o\", axis={title=\"Month of the year\"}},\n    y=\"count()\",\n    color={\n        :weather,\n        scale={\n            domain=[\"sun\",\"fog\",\"drizzle\",\"rain\",\"snow\"],\n            range=[\"#e7ba52\",\"#c7c7c7\",\"#aec7e8\",\"#1f77b4\",\"#9467bd\"]\n        },\n        legend={\n            title=\"Weather type\"\n        }\n    }\n)","category":"page"},{"location":"examples/examples_barchartshistograms/#Horizontal-Stacked-Bar-Chart-1","page":"Bar Charts & Histograms","title":"Horizontal Stacked Bar Chart","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(:bar, x=\"sum(yield)\", y=:variety, color=:site)","category":"page"},{"location":"examples/examples_barchartshistograms/#Normalized-Stacked-Bar-Chart-1","page":"Bar Charts & Histograms","title":"Normalized Stacked Bar Chart","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    :bar,\n    transform=[\n        {filter=\"datum.year == 2000\"},\n        {calculate=\"datum.sex==2 ? 'Female' : 'Male'\",as=\"gender\"}\n    ],\n    y={\n        \"sum(people)\",\n        axis={title=\"population\"},\n        stack=:normalize\n    },\n    x=\"age:o\",\n    color={\n        \"gender:n\",\n        scale={range=[\"#EA98D2\", \"#659CCA\"]}\n    },\n    width={step=17}    \n)","category":"page"},{"location":"examples/examples_barchartshistograms/#Gantt-Chart-(Ranged-Bar-Marks)-1","page":"Bar Charts & Histograms","title":"Gantt Chart (Ranged Bar Marks)","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite\n\n@vlplot(\n    :bar,\n    data={\n        values=[\n            {task=\"A\",start=1,stop=3},\n            {task=\"B\",start=3,stop=8},\n            {task=\"C\",start=8,stop=10}\n        ]\n    },\n    y=\"task:o\",\n    x=\"start:q\",\n    x2=\"stop:q\"\n)","category":"page"},{"location":"examples/examples_barchartshistograms/#A-bar-chart-encoding-color-names-in-the-data-1","page":"Bar Charts & Histograms","title":"A bar chart encoding color names in the data","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite\n\n@vlplot(\n    :bar,\n    data={\n        values=[\n            {color=\"red\",b=28},\n            {color=\"green\",b=55},\n            {color=\"blue\",b=43}\n        ]\n    },\n    x=\"color:n\",\n    y=\"b:q\",\n    color={\"color:n\",scale=nothing}\n)","category":"page"},{"location":"examples/examples_barchartshistograms/#Layered-Bar-Chart-1","page":"Bar Charts & Histograms","title":"Layered Bar Chart","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    :bar,\n    transform=[\n        {filter=\"datum.year==2000\"},\n        {calculate=\"datum.sex==2 ? 'Female' : 'Male'\",as=\"gender\"}\n    ],\n    x=\"age:o\",\n    y={\"sum(people)\", axis={title=\"population\"}, stack=nothing},\n    color={\"gender:n\", scale={range=[\"#e377c2\", \"#1f77b4\"]}},\n    opacity={value=0.7},\n    width={step=17}\n)","category":"page"},{"location":"examples/examples_barchartshistograms/#Diverging-Stacked-Bar-Chart-1","page":"Bar Charts & Histograms","title":"Diverging Stacked Bar Chart","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    question=[\"Question $(div(i,5)+1)\" for i in 0:39],\n    type=repeat([\"Strongly disagree\", \"Disagree\", \"Neither agree nor disagree\",\n        \"Agree\", \"Strongly agree\"],outer=8),\n    value=[24, 294, 594, 1927, 376, 2, 2, 0, 7, 11, 2, 0, 2, 4, 2, 0, 2, 1, 7,\n        6, 0, 1, 3, 16, 4, 1, 1, 2, 9, 3, 0, 0, 1, 4, 0, 0, 0, 0, 0, 2],\n    percentage=[0.7, 9.1, 18.5, 59.9, 11.7, 18.2, 18.2, 0, 63.6, 0, 20, 0, 20,\n        40, 20, 0, 12.5, 6.3, 43.8, 37.5, 0, 4.2, 12.5, 66.7, 16.7, 6.3, 6.3,\n        12.5, 56.3, 18.8, 0, 0, 20, 80, 0, 0, 0, 0, 0, 100],\n    percentage_start=[-19.1, -18.4, -9.2, 9.2, 69.2, -36.4, -18.2, 0, 0, 63.6,\n        -30, -10, -10, 10, 50, -15.6, -15.6, -3.1, 3.1, 46.9, -10.4, -10.4,\n        -6.3, 6.3, 72.9, -18.8, -12.5, -6.3, 6.3, 62.5, -10, -10, -10, 10, 90,\n        0, 0, 0, 0, 0],\n    percentage_end=[-18.4, -9.2, 9.2, 69.2, 80.9, -18.2, 0, 0, 63.6, 63.6, -10,\n        -10, 10, 50, 70, -15.6, -3.1, 3.1, 46.9, 84.4, -10.4, -6.3, 6.3, 72.9,\n        89.6, -12.5, -6.3, 6.3, 62.5, 81.3, -10, -10, 10, 90, 90, 0, 0, 0, 0, 100]\n)\n\ndata |> @vlplot(\n    :bar,\n    x={:percentage_start, axis={title=\"Percentage\"}},\n    x2=:percentage_end,\n    y={\n        :question, axis={\n            title=\"Question\",\n            offset=5,\n            ticks=false,\n            minExtent=60,\n            domain=false\n        }\n    },\n    color={\n        :typ,\n        legend={title=\"Response\"},\n        scale={\n            domain=[\n                \"Strongly disagree\",\n                \"Disagree\",\n                \"Neither agree nor disagree\",\n                \"Agree\",\n                \"Strongly agree\"\n            ],\n            range=[\"#c30d24\", \"#f3a583\", \"#cccccc\", \"#94c6da\", \"#1770ab\"],\n            type=:ordinal\n        }\n    }\n)","category":"page"},{"location":"examples/examples_barchartshistograms/#Simple-Bar-Chart-with-Labels-1","page":"Bar Charts & Histograms","title":"Simple Bar Chart with Labels","text":"","category":"section"},{"location":"examples/examples_barchartshistograms/#","page":"Bar Charts & Histograms","title":"Bar Charts & Histograms","text":"using VegaLite\n\n@vlplot(\n    data={\n        values=[\n            {a=\"A\",b=28},\n            {a=\"B\",b=55},\n            {a=\"C\",b=43}\n        ]\n    },\n    y=\"a:o\",\n    x=\"b:q\"\n) +\n@vlplot(:bar) +\n@vlplot(\n    mark={\n        :text,\n        align=:left,\n        baseline=:middle,\n        dx=3\n    },\n    text=\"b:q\"\n)","category":"page"},{"location":"userguide/data/#Data-1","page":"Data sources","title":"Data","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"VegaLite.jl accepts data to be plotted in a variety of different formats and provides a number of different ways to reference that data. The most typical way to plot data is that you have your data in some Julia data structure, and then add this data to the Vega-Lite specification itself for plotting. As an alternative, Vega-Lite also accepts URLs that point to data sources either on disc or on the web for plotting. Data that you want to plot will typically be in a tabular form. You can also directly pass vectors with data.","category":"page"},{"location":"userguide/data/#Inline-data-1","page":"Data sources","title":"Inline data","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Any Julia data structure data supports the iterable tables interface from the TableTraits.jl package can be used as an inline data source with VegaLite.jl. In practice that covers most tabular data structures in the Julia ecosystem: DataFrames.jl, JuliaDB.jl, IndexedTables.jl, various file IO packages (CSVFiles.jl, FeatherFiles.jl, ExcelFiles.jl, StatFiles.jl, ParquetFiles.jl) and any Query.jl result that has a tabular form.","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"There are two ways to add an inline data source to a Vega-Lite plot: 1) by piping the data source into a plot, or 2) by using the data keyword from within a @vlplot call.","category":"page"},{"location":"userguide/data/#Piping-inline-data-1","page":"Data sources","title":"Piping inline data","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Any tabular data can be piped into a plot by using the |> operator. For example, to create a scatter plot of a DataFrame called df you can pipe that DataFrame into a specification like this:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"df |> @vlplot(:point, x=:a, y=:b)","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"As mentioned above, you are not restricted to piping DataFrames into a plot, but can in fact plot any iterable table. The following example loads some data from a CSV file using CSVFiles.jl, filters it with Query.jl and then plots it with VegaLite.jl:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"load(\"my_data.csv\") |> @filter(_.a>30) |> @vlplot(:point, x=:a, y=:b)","category":"page"},{"location":"userguide/data/#Using-inline-data-with-the-data-keyword-1","page":"Data sources","title":"Using inline data with the data keyword","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"You can also specify the inline data for a plot by using the standard data keyword from the Vega-Lite language. The following example creates a plot based on a DataFrame named df:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"@vlplot(:point, data=df, x=:a, y=:b)","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"This method also accepts any iterable table.","category":"page"},{"location":"userguide/data/#Directly-passing-vectors-of-data-1","page":"Data sources","title":"Directly passing vectors of data","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"You can also pass vectors of data directly to encoding channels. For example, to create a line plot with ten random values, you can write:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"@vlplot(:line, x=1:10, y=randn(10))","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Both 1:10 and randn(10) are AbstractVectors and can therefor be passed in this way. You can also pass vectors directly in cases where you want to specify more detail about an encoding channel:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"@vlplot(:point, x=randn(10), y={randn(10), title=\"Some custom title\"})","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"There are two requirements to keep in mind when you use this form of data passing: 1) all vectors you pass in this way need to have the same length, and 2) you cannot pass a data keyword if you use this way of constructing a plot.","category":"page"},{"location":"userguide/data/#Referencing-external-data-1","page":"Data sources","title":"Referencing external data","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Sometimes it can be convenient to not embed the source data in the actual Vega-Lite specification, but instead just embed a link to some data in a file. Vega-Lite can read data in a variety of formats (CSV, TSV, JSON etc.), and you can again either pipe a reference into a plot or use the data keyword to specify an external link.","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"VegaLite.jl uses the URI type from the URIParser.jl package to represent URIs, and the FilePaths.jl package to represent filesystem paths. For example, to create a path, you can use the p string macro:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"using FilePaths\n\npath = p\"folder/filename.csv\"","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"The following example creates a URI instance:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"using URIParser\n\nuri = URI(\"https://www.foo.com/bar.csv\")","category":"page"},{"location":"userguide/data/#Piping-paths-and-URIs-1","page":"Data sources","title":"Piping paths and URIs","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Piping either a path or a URI into a Vega-Lite specification works the same way as piping inline data into a plot. You first have to create a path or URI, and then use the pipe operator |>. The following code shows examples of piping both a path and a URI into a plot:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"# Piping a path into a plot\n\np\"subfolder/myfile.csv\" |> @vlplot(:point, x=:a, y=:b)\n\n# Piping a URI into a plot\n\nURI(\"https://www.foo.com/bar.json\") |> @vlplot(:point, x=:a, y=:b)","category":"page"},{"location":"userguide/data/#Using-paths-and-URIs-with-the-data-keyword-1","page":"Data sources","title":"Using paths and URIs with the data keyword","text":"","category":"section"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"You can directly pass a path or URI to the data keyword in a @vlplot call, similar to how you can pass inline data:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"# Plotting data from a local file\n@vlplot(:point, data=p\"subfolder/file.csv\", x=:a, y=:b)\n\n# Plotting data from a URI\n@vlplot(:point, data=URI(\"https://www.foo.com/bar.json\"), x=:a, y=:b)","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"Sometimes you need to specify additional configuration parameters for an external data source that are supported by the Vega-Lite specification. In that case you can also pass the path or URI instance to the url sub-key in the data part of a plot specification:","category":"page"},{"location":"userguide/data/#","page":"Data sources","title":"Data sources","text":"@vlplot(\n    :point,\n    data={\n        url=p\"subfolder/foo.txt\",\n        format={\n            type=:csv\n        }\n    },\n    x=:a,\n    y=:b\n)","category":"page"},{"location":"examples/examples_vega_multi_data_source/#Using-Vega-with-Multiple-Data-Sources-1","page":"Multiple Data Source","title":"Using Vega with Multiple Data Sources","text":"","category":"section"},{"location":"examples/examples_vega_multi_data_source/#Dorling-Cartogram-1","page":"Multiple Data Source","title":"Dorling Cartogram","text":"","category":"section"},{"location":"examples/examples_vega_multi_data_source/#","page":"Multiple Data Source","title":"Multiple Data Source","text":"From Vega Dorling Cartogram Example","category":"page"},{"location":"examples/examples_vega_multi_data_source/#","page":"Multiple Data Source","title":"Multiple Data Source","text":"using VegaLite, VegaDatasets, URIParser\n\nuri = URI(\"https://raw.githubusercontent.com/vega/vega-datasets/master/data/us-10m.json\")\n\nvg\"\"\"{\n  \"width\": 900,\n  \"height\": 520,\n  \"autosize\": \"none\",\n\n  \"config\": {\n    \"legend\": {\n      \"gradientDirection\": \"horizontal\",\n      \"gradientLength\": 120,\n      \"gradientThickness\": 10\n    }\n  },\n\n  \"data\": [\n    {\n      \"name\": \"states\",\n      \"format\": {\"type\": \"topojson\", \"feature\": \"states\"}\n    },\n    {\n      \"name\": \"obesity\",\n      \"transform\": [\n        {\n          \"type\": \"lookup\",\n          \"from\": \"states\", \"key\": \"id\",\n          \"fields\": [\"id\"], \"as\": [\"geo\"]\n        },\n        {\n          \"type\": \"filter\",\n          \"expr\": \"datum.geo\"\n        },\n        {\n          \"type\": \"formula\", \"as\": \"centroid\",\n          \"expr\": \"geoCentroid('projection', datum.geo)\"\n        }\n      ]\n    }\n  ],\n\n  \"projections\": [\n    {\n      \"name\": \"projection\",\n      \"type\": \"albersUsa\",\n      \"scale\": 1100,\n      \"translate\": [{\"signal\": \"width / 2\"}, {\"signal\": \"height / 2\"}]\n    }\n  ],\n\n  \"scales\": [\n    {\n      \"name\": \"size\",\n      \"domain\": {\"data\": \"obesity\", \"field\": \"rate\"},\n      \"zero\": false,\n      \"range\": [1000, 5000]\n    },\n    {\n      \"name\": \"color\",\n      \"type\": \"linear\",\n      \"nice\": true,\n      \"domain\": {\"data\": \"obesity\", \"field\": \"rate\"},\n      \"range\": \"ramp\"\n    }\n  ],\n\n  \"legends\": [\n    {\n      \"title\": \"% of Obese Adults\",\n      \"orient\": \"bottom-right\",\n      \"type\": \"symbol\",\n      \"size\": \"size\",\n      \"fill\": \"color\",\n      \"format\": \".1%\",\n      \"clipHeight\": 16\n    }\n  ],\n\n  \"marks\": [\n    {\n      \"name\": \"circles\",\n      \"type\": \"symbol\",\n      \"from\": {\"data\": \"obesity\"},\n      \"encode\": {\n        \"enter\": {\n          \"size\": {\"scale\": \"size\", \"field\": \"rate\"},\n          \"fill\": {\"scale\": \"color\", \"field\": \"rate\"},\n          \"stroke\": {\"value\": \"white\"},\n          \"strokeWidth\": {\"value\": 1.5},\n          \"x\": {\"field\": \"centroid[0]\"},\n          \"y\": {\"field\": \"centroid[1]\"},\n          \"tooltip\": {\"signal\": \"'Obesity Rate: ' + format(datum.rate, '.1%')\"}\n        }\n      },\n      \"transform\": [\n        {\n          \"type\": \"force\",\n          \"static\": true,\n          \"forces\": [\n            {\"force\": \"collide\", \"radius\": {\"expr\": \"1 + sqrt(datum.size) / 2\"}},\n            {\"force\": \"x\", \"x\": \"datum.centroid[0]\"},\n            {\"force\": \"y\", \"y\": \"datum.centroid[1]\"}\n          ]\n        }\n      ]\n    },\n    {\n      \"type\": \"text\",\n      \"interactive\": false,\n      \"from\": {\"data\": \"circles\"},\n      \"encode\": {\n        \"enter\": {\n          \"align\": {\"value\": \"center\"},\n          \"baseline\": {\"value\": \"middle\"},\n          \"fontSize\": {\"value\": 13},\n          \"fontWeight\": {\"value\": \"bold\"},\n          \"text\": {\"field\": \"datum.state\"}\n        },\n        \"update\": {\n          \"x\": {\"field\": \"x\"},\n          \"y\": {\"field\": \"y\"}\n        }\n      }\n    }\n  ]\n}\"\"\"(uri, \"states\")(dataset(\"obesity\"), \"obesity\")","category":"page"},{"location":"examples/examples_vega_single_data_source/#Using-Vega-with-One-Data-Source-1","page":"Single Data Source","title":"Using Vega with One Data Source","text":"","category":"section"},{"location":"examples/examples_vega_single_data_source/#Word-Cloud-1","page":"Single Data Source","title":"Word Cloud","text":"","category":"section"},{"location":"examples/examples_vega_single_data_source/#","page":"Single Data Source","title":"Single Data Source","text":"using VegaLite, DataFrames\n\ndata = DataFrame(text = [\"computing\", \"scientific\", \"neural ode\", \"complex\", \"parallel\", \"recommender system\", \"multiple dispatch\", \"stochastic dual dynamic\", \"data\", \"overview\", \"environment\", \"user\", \"package environment\", \"factor graph based\", \"solve\", \"operation\", \"include\", \"mean\", \"tool\", \"programming language\", \"federal reserve bank\", \"monte carlo iteration\", \"based\", \"example\", \"command literal\", \"efficient\", \"provide\", \"experience\", \"approach\", \"tensor network\", \"monte carlo\", \"quantum\", \"set\", \"data type\", \"dual dynamic programming\", \"cell\", \"support\", \"method\", \"time\", \"computational\", \"analysis\", \"estimation\", \"allow\", \"language\", \"libraries\", \"space\", \"thread based parallelism\", \"system\", \"machine learning model\", \"modeling\", \"offer\", \"including\", \"differential equation solver\", \"software\", \"computer science\", \"neural ordinary differential\", \"implemented\", \"solution\", \"nonlinear\", \"demonstrate\", \"parameter\", \"community\", \"deploying web server\", \"scientific computing\", \"implementation\", \"probabilistic programming system\", \"machine learning\", \"chain monte carlo\", \"change\", \"deep learning\", \"run\", \"development\", \"data science\", \"library\", \"specific\", \"markov chain monte\", \"term\", \"introduce\", \"design\", \"software development\", \"presentation\", \"model\", \"written\", \"trajectory optimization\", \"literate programming\", \"package\", \"idea\", \"time series data\", \"scale\", \"level\", \"tensor network algorithm\", \"various\", \"interface\", \"ordinary differential equation\", \"version\", \"research\", \"result\", \"discuss lessons learned\", \"function\", \"parallelism\", \"bank york federal\", \"differential equation\", \"minority class instance\", \"information\", \"probabilistic programming\", \"dynamic stochastic equilibrium\", \"diversity inclusion\", \"inference\", \"source\", \"probabilistic programming language\", \"built\", \"simulation\", \"explore\", \"control\", \"algebra\", \"ecosystem\", \"york federal reserve\", \"partial differential equation\", \"package manager\", \"easy\", \"feature\", \"ms mib mib\", \"data structure\", \"code\", \"available\", \"neural network\", \"ha model\", \"computation\", \"field\", \"challenge\", \"framework\", \"require\", \"ml\", \"code snippets\", \"dynamic programming sddp\", \"source file\", \"algorithm\", \"optimization\", \"discuss\", \"power\", \"sampling approach\", \"distributed\", \"solving\", \"federal reserve system\", \"aircraft\", \"project\", \"application\", \"technique\", \"performance\", \"reserve bank york\", \"type system\", \"qsp model\", \"type\", \"process\"], count = [18, 18, 40, 25, 19, 20, 44, 36, 84, 19, 20, 49, 24, 27, 21, 32, 24, 19, 43, 40, 54, 36, 42, 34, 20, 17, 32, 17, 21, 40, 36, 23, 22, 20, 36, 23, 28, 66, 67, 22, 22, 19, 38, 68, 16, 20, 36, 62, 36, 33, 16, 26, 45, 16, 20, 36, 19, 18, 16, 23, 25, 23, 27, 48, 38, 36, 88, 36, 17, 20, 17, 32, 24, 25, 16, 36, 16, 21, 34, 20, 16, 144, 19, 20, 20, 109, 16, 27, 19, 27, 27, 25, 23, 72, 20, 24, 26, 27, 45, 18, 36, 64, 27, 17, 20, 27, 20, 21, 26, 54, 18, 17, 16, 19, 16, 29, 36, 27, 28, 21, 29, 27, 36, 87, 21, 44, 20, 28, 20, 19, 19, 23, 17, 20, 36, 32, 77, 41, 34, 16, 24, 19, 18, 36, 16, 33, 38, 24, 66, 54, 36, 20, 24, 19])\n\nword_cloud_spec = vg\"\"\"{\n  \"width\": 900,\n  \"height\": 350,\n  \"padding\": 10,\n\n  \"data\": [\n    {\n      \"name\": \"table\"\n    }\n  ],\n\n  \"scales\": [\n    {\n      \"name\": \"color\",\n      \"type\": \"log\",\n      \"domain\": {\"data\": \"table\", \"field\": \"count\"},\n      \"range\": {\"scheme\": \"purpleblue\"}\n    }\n  ],\n\n  \"marks\": [\n    {\n      \"type\": \"text\",\n      \"from\": {\"data\": \"table\"},\n      \"encode\": {\n        \"enter\": {\n          \"text\": {\"field\": \"text\"},\n          \"align\": {\"value\": \"center\"},\n          \"baseline\": {\"value\": \"alphabetic\"},\n          \"fill\": {\"scale\": \"color\", \"field\": \"count\"}\n        },\n        \"update\": {\n          \"fillOpacity\": {\"value\": 0.6}\n        },\n        \"hover\": {\n          \"fillOpacity\": {\"value\": 1.0}\n        }\n      },\n      \"transform\": [\n        {\n          \"type\": \"wordcloud\",\n          \"size\": [{\"signal\": \"width\"}, {\"signal\": \"height\"}],\n          \"text\": {\"field\": \"text\"},\n          \"font\": \"Helvetica Neue, Arial\",\n          \"fontSize\": {\"field\": \"datum.count\"},\n          \"fontSizeRange\": [12, 56],\n          \"padding\": 2\n        }\n      ]\n    }\n  ]\n}\"\"\"(data, \"table\")","category":"page"},{"location":"examples/examples_repeat_concatenation/#Repeat-and-Concatenation-1","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#Repeat-and-layer-to-show-different-weather-measures-1","page":"Repeat & Concatenation","title":"Repeat and layer to show different weather measures","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"using VegaLite, VegaDatasets\n\ndataset(\"weather.csv\") |>\n@vlplot(repeat={column=[:temp_max,:precipitation,:wind]}) +\n(\n    @vlplot() +\n    @vlplot(\n        :line,\n        y={field={repeat=:column},aggregate=:mean,type=:quantitative},\n        x=\"month(date):o\",\n        detail=\"year(date)\",\n        color=:location,\n        opacity={value=0.2}\n    ) +\n    @vlplot(\n        :line,\n        y={field={repeat=:column},aggregate=:mean,type=:quantitative},\n        x=\"month(date):o\",\n        color=:location\n    )\n)","category":"page"},{"location":"examples/examples_repeat_concatenation/#Vertically-concatenated-charts-that-show-precipitation-in-Seattle-1","page":"Repeat & Concatenation","title":"Vertically concatenated charts that show precipitation in Seattle","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"using VegaLite, VegaDatasets\n\ndataset(\"weather.csv\") |>\n@vlplot(transform=[{filter=\"datum.location === 'Seattle'\"}]) +\n[\n    @vlplot(:bar,x=\"month(date):o\",y=\"mean(precipitation)\");\n    @vlplot(:point,x={:temp_min, bin=true}, y={:temp_max, bin=true}, size=\"count()\")\n]","category":"page"},{"location":"examples/examples_repeat_concatenation/#Horizontally-repeated-charts-1","page":"Repeat & Concatenation","title":"Horizontally repeated charts","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(repeat={column=[:Horsepower, :Miles_per_Gallon, :Acceleration]}) +\n@vlplot(\n    :bar,\n    x={field={repeat=:column},bin=true,type=:quantitative},\n    y=\"count()\",\n    color=:Origin\n)","category":"page"},{"location":"examples/examples_repeat_concatenation/#Interactive-Scatterplot-Matrix-1","page":"Repeat & Concatenation","title":"Interactive Scatterplot Matrix","text":"","category":"section"},{"location":"examples/examples_repeat_concatenation/#","page":"Repeat & Concatenation","title":"Repeat & Concatenation","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> \n@vlplot(\n    repeat={\n        row=[:Horsepower, :Acceleration, :Miles_per_Gallon],\n        column=[:Miles_per_Gallon, :Acceleration, :Horsepower]\n    }\n) +\n@vlplot(\n    :point,\n    selection={\n        brush={\n            type=:interval,\n            resolve=:union,\n            on=\"[mousedown[event.shiftKey], window:mouseup] > window:mousemove!\",\n            translate=\"[mousedown[event.shiftKey], window:mouseup] > window:mousemove!\",\n            zoom=\"wheel![event.shiftKey]\"\n        },\n        grid={\n            type=:interval,\n            resolve=:global,\n            bind=:scales,\n            translate=\"[mousedown[!event.shiftKey], window:mouseup] > window:mousemove!\",\n            zoom=\"wheel![!event.shiftKey]\"\n        }\n    },\n    x={field={repeat=:column}, type=:quantitative},\n    y={field={repeat=:row}, type=:quantitative},\n    color={\n        condition={\n            selection=:brush,\n            field=:Origin,\n            type=:nominal\n        },\n        value=:grey\n    }\n)","category":"page"},{"location":"gettingstarted/tutorial/#Tutorial-1","page":"Tutorial","title":"Tutorial","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"This tutorial will show you how to create plots with VegaLite.jl.","category":"page"},{"location":"gettingstarted/tutorial/#Data-1","page":"Tutorial","title":"Data","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Plots are a way to visualize data, and therefore every plot starts with some dataset. VegaLite.jl expects data to be in tabular form, and it works best if you pass it tidy data.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"The definition of tabular data we are using here is very simple: think of a table that has a header and consists of a number of columns and rows. The header gives each column a name. The rows correspond to the actual data. Columns don't have to be of the same data type, i.e. you can have one column that contains Strings, and another that contains Float64 values.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"VegaLite.jl can digest many different Julia types that store tabular data. You can, for example, plot data that is stored in a DataFrame, JuliaDB.jl or loaded from disc with CSVFiles.jl. In this tutorial we will plot data that ships in the package VegaDatasets.jl.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"The dataset we will use for this tutorial is the cars dataset from the VegaDatasets.jl. The dataset contains information about a couple hundred cars. We can load the dataset with the dataset function:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaDatasets\n\ndata = dataset(\"cars\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"We are storing the dataset in the variable data, so that we can access it more easily in the following examples.","category":"page"},{"location":"gettingstarted/tutorial/#Simple-Scatter-Plot-1","page":"Tutorial","title":"Simple Scatter Plot","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"We will start out with a very simple scatter plot. The minimum steps for creating a plot are to 1) pass the data we want to plot to the plot macro, and 2) specify what kind of visual shape, or \"mark\" in Vega-Lite terminology, we want to use to visualize our data. We \"pipe\" the data into the plot macro using the pipe operator |>. The actual plot is created by a call to the @vlplot macro. The first argument to the @vlplot macro specifies what kind of mark we want to use for our plot. We pass the name of the mark as a symbol. In our example we want to use points for our plot. The following code shows this minimal plot:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"While this code produces a plot, it is not a very useful plot. Vega-Lite is actually drawing a point for every row in our input dataset. But it is drawing all these points on top of each other, which makes the plot so uninteresting.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"By the way, the code above is based on the premise that it is executed in the Julia command line (REPL). When the code is executed from within a script (or a function), the plot needs to be explicitly displayed as","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point) |> display","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"To create a more interesting plot, we next need to specify how Vega-Lite should connect key properties of the points (for example their position) with the data that we passed it. These connections are called \"encodings\" in Vega-Lite. We will start out by specifying how both the x and y position encoding channel for the points should take values from the data we passed:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"This code now produces a nice scatter plot. We specify these encodings by using keyword arguments inside the @vlplot macro that correspond to the names of the encoding channels, in our example the x and y channel. We pass the names of the columns in our dataset that we want to use for these channels as symbols, e.g. as :Miles_per_Gallon and :Horsepower.","category":"page"},{"location":"gettingstarted/tutorial/#Encoding-1","page":"Tutorial","title":"Encoding","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Vega-Lite provides many different encoding channels beyond the x and y channel we saw in the previous section. This section will introduce a few more encoding channels and how you can configure their details. You can read about the full list of encoding channels in the original Vega-Lite documentation.","category":"page"},{"location":"gettingstarted/tutorial/#Channels-1","page":"Tutorial","title":"Channels","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"As our next step we will encode the color channel. The following code will use the Origin column in our dataset for the color channel, so that the points in our plot use a different color for each unique value in the Origin column:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, color=:Origin)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"If we want to produce a separate plot for each of the three unique Origin values, we can instead encode the columns channel so that we create a facet plot:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, column=:Origin)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"We can now use the color channel to visualize yet another column from our dataset. The following code uses the color encoding channel to visualize the Cylinders column in our dataset:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |>\n@vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, column=:Origin, color=:Cylinders)","category":"page"},{"location":"gettingstarted/tutorial/#Channel-types-1","page":"Tutorial","title":"Channel types","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Before we introduce channel types, we will go back to a more simple plot without faceting.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |>\n@vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, color=\"Cylinders\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"We are still encoding the color channel, but note that we are now passing the name of the column as a String, not as a Symbol (i.e. we are writing color=\"Cylinders\" instead of color=:Cylinders). This is a general pattern in VegaLite.jl: you can generally use Symbols and Strings interchangeably. Using a Symbol saves you one extra character (the closing \"), so we tend to use those when possible, but sometimes you need to use characters that can't be used in Julia's literal Symbol syntax, and then we use Strings.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"The legend that was automatically generated for the color channel in the previous plot uses a continuous scale, i.e. it shows a smooth range of colors. VegaLite.jl automatically encodes any numeric column in the source data as such a \"quantitative\" channel. Sometimes that is not a good automatic default, though. For example, in our example case there are only a handful of distinct integer values used in the Cylinders column, and in such a case we might prefer a more discrete legend.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"We can tell VegaLite.jl to change the type of a channel from say the default quantitative type to an ordinal channel by slightly changing the channel encoding to color=\"Cylinders:ordinal\". In this case we specify the type of the encoding as a second argument in the string that is separated from the column name by a :. We can further shorten this by writing color=\"Cylinders:o\", i.e. we can only use the first character of the type of encoding we want to use.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Using this new syntax we can generate the following plot:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |>\n@vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, color=\"Cylinders:o\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Values in an ordinal channel are still ordered, so Vega-Lite automatically picks a color scheme that can showcase such an order.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"What if we don't want to use a color scheme that signals any order? In that case we can change the type of the encoding to nominal by using the syntax color=\"Cylinders:n\", generating the following plot:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |>\n@vlplot(:point, x=:Miles_per_Gallon, y=:Horsepower, color=\"Cylinders:n\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"You can also use the same encoding type specification for any other encoding channel. The following example puts the Cylinders column on the x axis of the plot and specifies it as an ordinal encoding:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |> @vlplot(:point, x=\"Cylinders:o\", y=:Miles_per_Gallon)","category":"page"},{"location":"gettingstarted/tutorial/#Channel-properties-1","page":"Tutorial","title":"Channel properties","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Our previous plots looked quite decent, but in many cases we probably still want to customize a whole range of features of our plots. One simple example in the previous plots might be the label of the axis that encoded the Miles_per_Gallon column. The axis automatically got labeled by the column name, and we might want to remove the underscores from the actual axis label.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Whenever we want to specify more properties for a channel than just the name or type, we have to assign a composite value to the name of the channel by using curly brackets {}. Note that this use of {} is specific to the @vlplot macro, i.e. it is not a generic Julia language feature. For example, to specify an alternative title for an axis, we would write x={:Miles_per_Gallon, title=\"MPG\"}. Note that within the composite value we can still pass the name of the field to be encoded as a first positional argument, followed by arbitrary many named arguments. We can use similar syntax to also adjust the title of the legend, as shown in the following code example:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndata = dataset(\"cars\")\n\ndata |>\n@vlplot(\n    :point,\n    x={\n        :Miles_per_Gallon,\n        title=\"MPG\"\n    },\n    y=:Horsepower,\n    color={\n        \"Cylinders:n\",\n        legend={title=\"No of Cylinders\"}\n    }\n)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Channels have a large number of properties that you can customize in this way, they are all explained in the original Vega-Lite documentation.","category":"page"},{"location":"gettingstarted/tutorial/#Marks-1","page":"Tutorial","title":"Marks","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Our examples all used a point mark so far, but Vega-Lite supports many more types of marks. The following example uses a line mark instead of the point mark we have used so far:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets, Query\n\ndataset(\"stocks\") |>\n@filter(_.symbol==\"GOOG\") |>\n@vlplot(:line, x={\"date:t\", axis={format=\"%Y\"}}, y=:price)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Note how we specify the line mark type as the first positional argument to the @vlplot macro call. This examples also showcases a number of other features. First, it uses Query.jl to filter the dataset before we plot it (we only want to plot the stock price for Google). The example also introduces a encoding channel type we haven't seen before: we are using a temporal channel type here (configured with the :t part in \"date:t\"). The temporal type is specifically designed for date and time information. We are also changing how the values of the x axis are displayed in the plot by specifying a custom format string for the x axis.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Sometimes we will need to configure more aspects of the mark than just the type of mark. In that case we can pass additional properties by using the composite syntax we have seen before. In the following example we are using a line mark, and we are customizing the color of the line and are also configuring it to show points on top of the line itself:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets, Query\n\ndataset(\"stocks\") |>\n@filter(_.symbol==\"GOOG\") |>\n@vlplot(\n    mark={\n        :line,\n        point=true,\n        color=:red\n    },\n    x={\n        \"date:t\",\n        axis={\n            format=\"%Y\"\n        }\n    },\n    y=:price\n)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Note how we have to use the more explicit named keyword syntax mark={} when we want to specify more mark properties inside the @vlplot macro call. We can still pass the mark type as a positional first argument inside the value we assign to mark, though.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"There are many different mark types in Vega-Lite, with many different options to customize their appearance. The original Vega-Lite documentation describes all these options in detail.","category":"page"},{"location":"gettingstarted/tutorial/#Aggregations-1","page":"Tutorial","title":"Aggregations","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"The following graph shows many individual data points for each x axis value:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(:point, x=:Origin, y=:Miles_per_Gallon)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"In such situations it can often be more interesting to compute an aggregate value for each x axis value, for example the mean miles per gallon number for each region:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(:point, x=:Origin, y=\"average(Miles_per_Gallon)\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Here we are making use of another shorthand syntax option in VegaLite.jl. We can specify an aggregation operation in the form of a function call (e.g. average(...)) and then pass the name of the column for which we want to compute the aggregation as an argument (e.g. average(Miles_per_Gallon)). Vega-Lite supports many different aggregations. For example the next plot shows the minimum miles per gallon per region:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(:bar, x=:Origin, y=\"min(Miles_per_Gallon)\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"This example also uses a different mark, namely the bar mark to create a bar plot.","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"There is one aggregation operator that works slightly different, namely the count aggregation. It simply counts the number of rows in each group, so one does not have to specify a column to be aggregated:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(:bar, x=:Origin, y=\"count()\")","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Aggregations can of course be used for any encoding channel, we can for example easily create a horizontal bar chart:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |> @vlplot(:bar, x=\"count()\", y=:Origin)","category":"page"},{"location":"gettingstarted/tutorial/#Config-1","page":"Tutorial","title":"Config","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Almost all aspects of a Vega-Lite plot can be configured and customized. Many of these choices can be set by using the config keyword in the @vlplot macro call. For example, the following plot adds a title to the plot and the configures the title to use a red font:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(\n    :point,\n    x=:Miles_per_Gallon,\n    y=:Acceleration,\n    title=\"Cars\",\n    config={\n        title={\n            color=:red\n        }\n    }\n)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"The original Vega-Lite documentation describes all config options in great detail.","category":"page"},{"location":"gettingstarted/tutorial/#File-IO-1","page":"Tutorial","title":"File IO","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"Plots that are created with VegaLite.jl can be saved to disc in a number of formats (PNG, SVG, PDF, ESP). To save a plot, simply call the save function:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\np = dataset(\"cars\") |> @vlplot(:bar, x=\"count()\", y=:Origin)\n\nsave(\"myplot.png\", p)","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"You can also pipe a plot into the save function:","category":"page"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:bar, x=\"count()\", y=:Origin) |>\nsave(\"myplot.pdf\")","category":"page"},{"location":"gettingstarted/tutorial/#Next-steps-1","page":"Tutorial","title":"Next steps","text":"","category":"section"},{"location":"gettingstarted/tutorial/#","page":"Tutorial","title":"Tutorial","text":"There are two main sources of information if you want to learn more about plotting with VegaLite.jl. The first is the excellent Vega-Lite documentation. The documentation describes the JSON original Vega-Lite version, but it should be fairly easy to understand how those examples translate into the Julia equivalent. The second source are the remaining sections in this documentation of VegaLite.jl. The section about the @vlplot macro should be especially useful for understanding how the JSON Vega-Lite syntax can be translated into the equivalent Julia version.","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Scatter-and-Strip-Plots-1","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#Scatterplot-1","page":"Scatter & Strip Plots","title":"Scatterplot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Dot-Plot-1","page":"Scatter & Strip Plots","title":"Dot Plot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"seattle-weather\") |>\n@vlplot(:tick, x=:precipitation)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Strip-Plot-1","page":"Scatter & Strip Plots","title":"Strip Plot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:tick, x=:Horsepower, y=\"Cylinders:o\")","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Colored-Scatterplot-1","page":"Scatter & Strip Plots","title":"Colored Scatterplot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon, color=:Origin, shape=:Origin)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Binned-Scatterplot-1","page":"Scatter & Strip Plots","title":"Binned Scatterplot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    :circle,\n    x={:IMDB_Rating, bin={maxbins=10}},\n    y={:Rotten_Tomatoes_Rating, bin={maxbins=10}},\n    size=\"count()\"\n)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Bubble-Plot-1","page":"Scatter & Strip Plots","title":"Bubble Plot","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:point, x=:Horsepower, y=:Miles_per_Gallon, size=:Acceleration)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Scatterplot-with-NA-Values-in-Grey-1","page":"Scatter & Strip Plots","title":"Scatterplot with NA Values in Grey","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    :point,\n    x=:IMDB_Rating,\n    y=:Rotten_Tomatoes_Rating,\n    color={\n        condition={\n            test=\"datum.IMDB_Rating === null || datum.Rotten_Tomatoes_Rating === null\",\n            value=\"#aaa\"\n        }\n    },\n    config={invalidValues=nothing}\n)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Scatterplot-with-Filled-Circles-1","page":"Scatter & Strip Plots","title":"Scatterplot with Filled Circles","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:circle, x=:Horsepower, y=:Miles_per_Gallon)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Bubble-Plot-(Gapminder)-1","page":"Scatter & Strip Plots","title":"Bubble Plot (Gapminder)","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"gapminder-health-income\") |>\n@vlplot(\n    :circle,\n    width=500,height=300,\n    selection={\n        view={type=:interval, bind=:scales}\n    },\n    y={:health, scale={zero=false}, axis={minExtent=30}},\n    x={:income, scale={type=:log}},\n    size=:population,\n    color={value=\"#000\"}\n)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Bubble-Plot-(Natural-Disasters)-1","page":"Scatter & Strip Plots","title":"Bubble Plot (Natural Disasters)","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"disasters\") |>\n@vlplot(\n    width=600,height=400,\n    transform=[\n        {filter=\"datum.Entity !== 'All natural disasters'\"}\n    ],\n    mark={\n        :circle,\n        opacity=0.8,\n        stroke=:black,\n        strokeWidth=1\n    },\n    x={\"Year:o\", axis={labelAngle=0}},\n    y={:Entity, axis={title=\"\"}},\n    size={\n        :Deaths,\n        legend={title=\"Annual Global Deaths\"},\n        scale={range=[0,5000]}\n    },\n    color={:Entity, legend=nothing}\n)","category":"page"},{"location":"examples/examples_scatter_strip_plots/#Scatter-Plot-with-Text-Marks-1","page":"Scatter & Strip Plots","title":"Scatter Plot with Text Marks","text":"","category":"section"},{"location":"examples/examples_scatter_strip_plots/#","page":"Scatter & Strip Plots","title":"Scatter & Strip Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(\n    :text,\n    transform=[\n        {\n            calculate=\"datum.Origin[0]\",\n            as=\"OriginInitial\"\n        }\n    ],\n    x=:Horsepower,\n    y=:Miles_per_Gallon,\n    color=:Origin,\n    text=\"OriginInitial:n\"\n)","category":"page"},{"location":"examples/examples_vega_network_diagrams/#Network-Diagrams-1","page":"Network Diagrams","title":"Network Diagrams","text":"","category":"section"},{"location":"examples/examples_vega_network_diagrams/#Edge-Bundling-1","page":"Network Diagrams","title":"Edge Bundling","text":"","category":"section"},{"location":"examples/examples_vega_network_diagrams/#","page":"Network Diagrams","title":"Network Diagrams","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=720,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    align={\n                        signal=\"datum.leftside ? 'right' : 'left'\"\n                    },\n                    fontWeight=[\n                        {\n                            test=\"indata('selected', 'source', datum.id)\",\n                            value=\"bold\"\n                        },\n                        {\n                            test=\"indata('selected', 'target', datum.id)\",\n                            value=\"bold\"\n                        },\n                        {\n                            value=nothing\n                        }\n                    ],\n                    x={\n                        field=\"x\"\n                    },\n                    dx={\n                        signal=\"textOffset * (datum.leftside ? -1 : 1)\"\n                    },\n                    fontSize={\n                        signal=\"textSize\"\n                    },\n                    angle={\n                        signal=\"datum.leftside ? datum.angle - 180 : datum.angle\"\n                    },\n                    fill=[\n                        {\n                            test=\"datum.id === active\",\n                            value=\"black\"\n                        },\n                        {\n                            test=\"indata('selected', 'source', datum.id)\",\n                            signal=\"colorIn\"\n                        },\n                        {\n                            test=\"indata('selected', 'target', datum.id)\",\n                            signal=\"colorOut\"\n                        },\n                        {\n                            value=\"black\"\n                        }\n                    ],\n                    y={\n                        field=\"y\"\n                    }\n                },\n                enter={\n                    text={\n                        field=\"name\"\n                    },\n                    baseline={\n                        value=\"middle\"\n                    }\n                }\n            },\n            from={\n                data=\"leaves\"\n            },\n            type=\"text\"\n        },\n        {\n            marks=[\n                {\n                    encode={\n                        update={\n                            tension={\n                                signal=\"tension\"\n                            },\n                            stroke=[\n                                {\n                                    test=\"parent.source === active\",\n                                    signal=\"colorOut\"\n                                },\n                                {\n                                    test=\"parent.target === active\",\n                                    signal=\"colorIn\"\n                                },\n                                {\n                                    value=\"steelblue\"\n                                }\n                            ],\n                            x={\n                                field=\"x\"\n                            },\n                            strokeOpacity=[\n                                {\n                                    test=\"parent.source === active || parent.target === active\",\n                                    value=1\n                                },\n                                {\n                                    value=0.2\n                                }\n                            ],\n                            y={\n                                field=\"y\"\n                            }\n                        },\n                        enter={\n                            interpolate={\n                                value=\"bundle\"\n                            },\n                            strokeWidth={\n                                value=1.5\n                            }\n                        }\n                    },\n                    interactive=false,\n                    from={\n                        data=\"path\"\n                    },\n                    type=\"line\"\n                }\n            ],\n            from={\n                facet={\n                    name=\"path\",\n                    data=\"dependencies\",\n                    field=\"treepath\"\n                }\n            },\n            type=\"group\"\n        }\n    ],\n    data=[\n        {\n            name=\"tree\",\n            values=dataset(\"flare\"),\n            transform=[\n                {\n                    key=\"id\",\n                    parentKey=\"parent\",\n                    type=\"stratify\"\n                },\n                {\n                    method={\n                        signal=\"layout\"\n                    },\n                    as=[\n                        \"alpha\",\n                        \"beta\",\n                        \"depth\",\n                        \"children\"\n                    ],\n                    size=[\n                        1,\n                        1\n                    ],\n                    type=\"tree\"\n                },\n                {\n                    as=\"angle\",\n                    expr=\"(rotate + extent * datum.alpha + 270) % 360\",\n                    type=\"formula\"\n                },\n                {\n                    as=\"leftside\",\n                    expr=\"inrange(datum.angle, [90, 270])\",\n                    type=\"formula\"\n                },\n                {\n                    as=\"x\",\n                    expr=\"originX + radius * datum.beta * cos(PI * datum.angle / 180)\",\n                    type=\"formula\"\n                },\n                {\n                    as=\"y\",\n                    expr=\"originY + radius * datum.beta * sin(PI * datum.angle / 180)\",\n                    type=\"formula\"\n                }\n            ]\n        },\n        {\n            name=\"leaves\",\n            source=\"tree\",\n            transform=[\n                {\n                    expr=\"!datum.children\",\n                    type=\"filter\"\n                }\n            ]\n        },\n        {\n            name=\"dependencies\",\n            values=dataset(\"flare-dependencies\"),\n            transform=[\n                {\n                    initonly=true,\n                    as=\"treepath\",\n                    expr=\"treePath('tree', datum.source, datum.target)\",\n                    type=\"formula\"\n                }\n            ]\n        },\n        {\n            name=\"selected\",\n            source=\"dependencies\",\n            transform=[\n                {\n                    expr=\"datum.source === active || datum.target === active\",\n                    type=\"filter\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"color\",\n            range=[\n                {\n                    signal=\"colorIn\"\n                },\n                {\n                    signal=\"colorOut\"\n                }\n            ],\n            domain=[\n                \"depends on\",\n                \"imported by\"\n            ],\n            type=\"ordinal\"\n        }\n    ],\n    width=720,\n    autosize=\"none\",\n    signals=[\n        {\n            name=\"tension\",\n            bind={\n                step=0.01,\n                max=1,\n                min=0,\n                input=\"range\"\n            },\n            value=0.85\n        },\n        {\n            name=\"radius\",\n            bind={\n                max=400,\n                min=20,\n                input=\"range\"\n            },\n            value=280\n        },\n        {\n            name=\"extent\",\n            bind={\n                step=1,\n                max=360,\n                min=0,\n                input=\"range\"\n            },\n            value=360\n        },\n        {\n            name=\"rotate\",\n            bind={\n                step=1,\n                max=360,\n                min=0,\n                input=\"range\"\n            },\n            value=0\n        },\n        {\n            name=\"textSize\",\n            bind={\n                step=1,\n                max=20,\n                min=2,\n                input=\"range\"\n            },\n            value=8\n        },\n        {\n            name=\"textOffset\",\n            bind={\n                step=1,\n                max=10,\n                min=0,\n                input=\"range\"\n            },\n            value=2\n        },\n        {\n            name=\"layout\",\n            bind={\n                options=[\n                    \"tidy\",\n                    \"cluster\"\n                ],\n                input=\"radio\"\n            },\n            value=\"cluster\"\n        },\n        {\n            name=\"colorIn\",\n            value=\"firebrick\"\n        },\n        {\n            name=\"colorOut\",\n            value=\"forestgreen\"\n        },\n        {\n            name=\"originX\",\n            update=\"width / 2\"\n        },\n        {\n            name=\"originY\",\n            update=\"height / 2\"\n        },\n        {\n            name=\"active\",\n            on=[\n                {\n                    events=\"text:mouseover\",\n                    update=\"datum.id\"\n                },\n                {\n                    events=\"mouseover[!event.item]\",\n                    update=\"null\"\n                }\n            ],\n            value=nothing\n        }\n    ],\n    legends=[\n        {\n            stroke=\"color\",\n            title=\"Dependencies\",\n            symbolType=\"stroke\",\n            orient=\"bottom-right\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_network_diagrams/#Force-Directed-Layout-1","page":"Network Diagrams","title":"Force Directed Layout","text":"","category":"section"},{"location":"examples/examples_vega_network_diagrams/#","page":"Network Diagrams","title":"Network Diagrams","text":"TODO We need to figure out how we can handle this type of data loading first.","category":"page"},{"location":"examples/examples_vega_network_diagrams/#Reorderable-Matrix-1","page":"Network Diagrams","title":"Reorderable Matrix","text":"","category":"section"},{"location":"examples/examples_vega_network_diagrams/#","page":"Network Diagrams","title":"Network Diagrams","text":"TODO We need to figure out how we can handle this type of data loading first.","category":"page"},{"location":"examples/examples_vega_network_diagrams/#Arc-Diagram-1","page":"Network Diagrams","title":"Arc Diagram","text":"","category":"section"},{"location":"examples/examples_vega_network_diagrams/#","page":"Network Diagrams","title":"Network Diagrams","text":"TODO We need to figure out how we can handle this type of data loading first.","category":"page"},{"location":"examples/examples_vega_network_diagrams/#Airport-Connections-1","page":"Network Diagrams","title":"Airport Connections","text":"","category":"section"},{"location":"examples/examples_vega_network_diagrams/#","page":"Network Diagrams","title":"Network Diagrams","text":"TODO We need to figure out how we can handle this type of data loading first.","category":"page"},{"location":"examples/examples_line_charts/#Line-Charts-1","page":"Line Charts","title":"Line Charts","text":"","category":"section"},{"location":"examples/examples_line_charts/#Line-Chart-1","page":"Line Charts","title":"Line Chart","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    :line,\n    transform=[\n        {filter=\"datum.symbol=='GOOG'\"}\n    ],\n    x=\"date:t\",\n    y=:price\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Chart-with-Point-Markers-1","page":"Line Charts","title":"Line Chart with Point Markers","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    mark={\n        :line,\n        point=true\n    },\n    x=\"year(date)\",\n    y=\"mean(price)\",\n    color=:symbol\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Chart-with-Stroked-Point-Markers-1","page":"Line Charts","title":"Line Chart with Stroked Point Markers","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    mark={\n        :line,\n        point={filled=false, fill=:white}\n    },\n    x=\"year(date)\",\n    y=\"mean(price)\",\n    color=:symbol\n)","category":"page"},{"location":"examples/examples_line_charts/#Multi-Series-Line-Chart-1","page":"Line Charts","title":"Multi Series Line Chart","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    :line,\n    x=\"date:t\",\n    y=:price,\n    color=:symbol\n)","category":"page"},{"location":"examples/examples_line_charts/#Slope-Graph-1","page":"Line Charts","title":"Slope Graph","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(\n    :line,\n    width={step=50},\n    x={\n        \"year:o\",\n        scale={\n            padding=0.5\n        }\n    },\n    y=\"median(yield)\",\n    color=:site\n)","category":"page"},{"location":"examples/examples_line_charts/#Step-Chart-1","page":"Line Charts","title":"Step Chart","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    mark={\n        :line,\n        interpolate=\"step-after\"\n    },\n    x=\"date:t\",\n    y=:price\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Chart-with-Monotone-Interpolation-1","page":"Line Charts","title":"Line Chart with Monotone Interpolation","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    mark={\n        :line,\n        interpolate=\"monotone\"\n    },\n    x=\"date:t\",\n    y=:price\n)","category":"page"},{"location":"examples/examples_line_charts/#Connected-Scatterplot-(Lines-with-Custom-Paths)-1","page":"Line Charts","title":"Connected Scatterplot (Lines with Custom Paths)","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"driving\") |>\n@vlplot(\n    mark={\n        :line,\n        point=true\n    },\n    x={\n        :miles,\n        scale={zero=false}\n    },\n    y={\n        :gas,\n        scale={zero=false}\n    },\n    order=\"year:t\"\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Chart-with-Varying-Size-(using-the-trail-mark)-1","page":"Line Charts","title":"Line Chart with Varying Size (using the trail mark)","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    :trail,\n    x={\n        \"date:t\",\n        axis={format=\"%Y\"}\n    },\n    y=:price,\n    size=:price,\n    color=:symbol\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Chart-with-Markers-and-Invalid-Values-1","page":"Line Charts","title":"Line Chart with Markers and Invalid Values","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    x=[1,2,3,4,5,6,7],\n    y=[10,30,missing,15,missing,40,20]\n)\n\ndata |>\n@vlplot(\n    mark={\n        :line,\n        point=true\n    },\n    x=:x,\n    y=:y\n)","category":"page"},{"location":"examples/examples_line_charts/#Carbon-Dioxide-in-the-Atmosphere-1","page":"Line Charts","title":"Carbon Dioxide in the Atmosphere","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, VegaDatasets\n\n@vlplot(\n    data={\n        url=dataset(\"co2-concentration\").path,\n        format={\n            parse={Date=\"utc:'%Y-%m-%d'\"}\n        }\n    },\n    width=800,\n    height=500,\n    transform=[\n        {\n            calculate=\"year(datum.Date)\",\n            as=:year\n        },\n        {\n            calculate=\"month(datum.Date)\",\n            as=:month\n        },\n        {\n            calculate=\"floor(datum.year / 10) + 'x'\",\n            as=:decade\n        },\n        {\n            calculate=\"(datum.year % 10) + (datum.month/12)\",\n            as=:scaled_date\n        }\n    ]\n) +\n@vlplot(\n    :line,\n    x={\n        \"scaled_date:q\",\n        axis={\n            title=\"Year into Decade\",\n            tickCount=11\n        }\n    },\n    y={\n        \"CO2:q\",\n        axis={title=\"CO2 concentration in ppm\"},\n        scale={zero=false}\n    },\n    detail=\"decade:o\",\n    color={\"decade:n\", legend={offset=40}}\n) +\n(\n    @vlplot(\n        transform=[\n            {\n                aggregate=[{\n                    op=\"argmin\",\n                    field=\"scaled_date\",\n                    as=\"start\"\n                }, {\n                    op=\"argmax\",\n                    field=\"scaled_date\",\n                    as=\"end\"\n                }],\n                groupby=[\"decade\"]\n            },\n            {\n                calculate=\"datum.start.scaled_date\",\n                as=\"scaled_date_start\"\n            },\n            {\n                calculate=\"datum.start.CO2\",\n                as=\"CO2_start\"\n            },\n            {\n                calculate=\"datum.start.year\",\n                as=\"year_start\"\n            },\n            {\n                calculate=\"datum.end.scaled_date\",\n                as=\"scaled_date_end\"\n            },\n            {\n                calculate=\"datum.end.CO2\",\n                as=\"CO2_end\"\n            },\n            {\n                calculate=\"datum.end.year\",\n                as=\"year_end\"\n            }\n        ]\n    ) +\n    @vlplot(\n        mark={\n            :text,\n            aligh=:left,\n            baseline=:top,\n            dx=3,\n            dy=1\n        },\n        x=\"scaled_date_start:q\",\n        y=\"CO2_start:q\",\n        text=\"year_start:n\"\n    ) +\n    @vlplot(\n        mark={\n            :text,\n            align=:left,\n            baseline=:bottom,\n            dx=3,\n            dy=1\n        },\n        x=\"scaled_date_end:q\",\n        y=\"CO2_end:q\",\n        text=\"year_end:n\"\n    )\n)","category":"page"},{"location":"examples/examples_line_charts/#Line-Charts-Showing-Ranks-Over-Time-1","page":"Line Charts","title":"Line Charts Showing Ranks Over Time","text":"","category":"section"},{"location":"examples/examples_line_charts/#","page":"Line Charts","title":"Line Charts","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    team=[\"Man Utd\", \"Chelsea\", \"Man City\", \"Spurs\", \"Man Utd\", \"Chelsea\",\n        \"Man City\", \"Spurs\", \"Man Utd\", \"Chelsea\", \"Man City\", \"Spurs\"],\n    matchday=[1,1,1,1,2,2,2,2,3,3,3,3],\n    point=[3,1,1,0,6,1,0,3,9,1,0,6]\n)\n\ndata |>\n@vlplot(\n    transform=[{\n        sort=[{field=\"point\", order=\"descending\"}],\n        window=[{\n            op=\"rank\",\n            as=\"rank\"\n        }],\n        groupby=[\"matchday\"]\n    }],\n    mark={\n        :line,\n        orient=\"vertical\"\n    },\n    x=\"matchday:o\",\n    y=\"rank:o\",\n    color={\n        :team,\n        scale={\n            domain=[\"Man Utd\", \"Chelsea\", \"Man City\", \"Spurs\"],\n            range=[\"#cc2613\", \"#125dc7\", \"#8bcdfc\", \"#d1d1d1\"]\n        }\n    }\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Area-Charts-and-Streamgraphs-1","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#Area-Chart-1","page":"Area Charts & Streamgraphs","title":"Area Chart","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"unemployment-across-industries\") |>\n@vlplot(\n    :area,\n    width=300, height=200,\n    x={\n        \"yearmonth(date)\",\n        axis={format=\"%Y\"}\n    },\n    y={\n        \"sum(count)\",\n        axis={title=\"count\"}\n    }    \n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Area-Chart-with-Overlaying-Lines-and-Point-Markers-1","page":"Area Charts & Streamgraphs","title":"Area Chart with Overlaying Lines and Point Markers","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    transform=[{filter=\"datum.symbol==='GOOG'\"}],\n    mark={\n        :area,\n        line=true,\n        point=true\n    },\n    x=\"date:t\",\n    y=:price\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Stacked-Area-Chart-1","page":"Area Charts & Streamgraphs","title":"Stacked Area Chart","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"unemployment-across-industries\") |>\n@vlplot(\n    :area,\n    width=300, hieght=200,\n    x={\n        \"yearmonth(date)\",\n        axis={format=\"%Y\"}\n    },\n    y=\"sum(count)\",\n    color={\n        :series,\n        scale={scheme=\"category20b\"}\n    }\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Normalized-Stacked-Area-Chart-1","page":"Area Charts & Streamgraphs","title":"Normalized Stacked Area Chart","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"unemployment-across-industries\") |>\n@vlplot(\n    :area,\n    width=300, height=200,\n    x={\n        \"yearmonth(date)\",\n        axis={\n            domain=false,\n            format=\"%Y\"\n        }\n    },\n    y={\n        \"sum(count)\",\n        axis=nothing,\n        stack=:normalize\n    },\n    color={\n        :series,\n        scale={scheme=\"category20b\"}\n    }\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Streamgraph-1","page":"Area Charts & Streamgraphs","title":"Streamgraph","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, VegaDatasets\n\ndataset(\"unemployment-across-industries\") |>\n@vlplot(\n    :area,\n    width=300, height=200,\n    x={\n        \"yearmonth(date)\",\n        axis={\n            domain=false,\n            format=\"%Y\",\n            tickSize=0\n        }\n    },\n    y={\n        \"sum(count)\",\n        axis=nothing,\n        stack=:center\n    },\n    color={\n        :series,\n        scale={scheme=\"category20b\"}\n    }\n)","category":"page"},{"location":"examples/examples_area_Charts_streamgraphs/#Horizon-Graph-1","page":"Area Charts & Streamgraphs","title":"Horizon Graph","text":"","category":"section"},{"location":"examples/examples_area_Charts_streamgraphs/#","page":"Area Charts & Streamgraphs","title":"Area Charts & Streamgraphs","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    x=1:20,\n    y=[28,55,43,91,81,53,19,87,52,48,24,49,87,66,17,27,68,16,49,15]\n)\n\ndata |>\n@vlplot(width=300, height=50, config={area={interpolate=:monotone}}) +\n@vlplot(\n    mark={\n        :area,\n        clip=true,\n        orient=:vertical\n    },\n    x={:x, scale={zero=false, nice=false}},\n    y={:y, scale={domain=[0,50]}},\n    opacity={value=0.6}\n) +\n@vlplot(\n    transform=[{calculate=\"datum.y-50\", as=:ny}],\n    mark={\n        :area,\n        clip=true,\n        orient=:vertical\n    },\n    x=:x,\n    y={\n        \"ny:q\",\n        scale={domain=[0,50]},\n        axis={title=\"y\"}\n    },\n    opacity={value=0.3}\n)","category":"page"},{"location":"examples/examples_vega_circular_charts/#Circular-Charts-1","page":"Circular Charts","title":"Circular Charts","text":"","category":"section"},{"location":"examples/examples_vega_circular_charts/#Pie-Chart-1","page":"Circular Charts","title":"Pie Chart","text":"","category":"section"},{"location":"examples/examples_vega_circular_charts/#","page":"Circular Charts","title":"Circular Charts","text":"using VegaLite\n\n@vgplot(\n    height=200,\n    marks=[\n        {\n            encode={\n                update={\n                    innerRadius={\n                        signal=\"innerRadius\"\n                    },\n                    startAngle={\n                        field=\"startAngle\"\n                    },\n                    cornerRadius={\n                        signal=\"cornerRadius\"\n                    },\n                    padAngle={\n                        signal=\"padAngle\"\n                    },\n                    endAngle={\n                        field=\"endAngle\"\n                    },\n                    outerRadius={\n                        signal=\"width / 2\"\n                    }\n                },\n                enter={\n                    x={\n                        signal=\"width / 2\"\n                    },\n                    fill={\n                        field=\"id\",\n                        scale=\"color\"\n                    },\n                    y={\n                        signal=\"height / 2\"\n                    }\n                }\n            },\n            from={\n                data=\"table\"\n            },\n            type=\"arc\"\n        }\n    ],\n    data=[\n        {\n            name=\"table\",\n            values=[\n                {\n                    id=1,\n                    field=4\n                },\n                {\n                    id=2,\n                    field=6\n                },\n                {\n                    id=3,\n                    field=10\n                },\n                {\n                    id=4,\n                    field=3\n                },\n                {\n                    id=5,\n                    field=7\n                },\n                {\n                    id=6,\n                    field=8\n                }\n            ],\n            transform=[\n                {\n                    startAngle={\n                        signal=\"startAngle\"\n                    },\n                    sort={\n                        signal=\"sort\"\n                    },\n                    field=\"field\",\n                    endAngle={\n                        signal=\"endAngle\"\n                    },\n                    type=\"pie\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"color\",\n            range={\n                scheme=\"category20\"\n            },\n            domain={\n                data=\"table\",\n                field=\"id\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=200,\n    autosize=\"none\",\n    signals=[\n        {\n            name=\"startAngle\",\n            bind={\n                step=0.01,\n                max=6.29,\n                min=0,\n                input=\"range\"\n            },\n            value=0\n        },\n        {\n            name=\"endAngle\",\n            bind={\n                step=0.01,\n                max=6.29,\n                min=0,\n                input=\"range\"\n            },\n            value=6.29\n        },\n        {\n            name=\"padAngle\",\n            bind={\n                max=0.1,\n                min=0,\n                input=\"range\"\n            },\n            value=0\n        },\n        {\n            name=\"innerRadius\",\n            bind={\n                step=1,\n                max=90,\n                min=0,\n                input=\"range\"\n            },\n            value=0\n        },\n        {\n            name=\"cornerRadius\",\n            bind={\n                step=0.5,\n                max=10,\n                min=0,\n                input=\"range\"\n            },\n            value=0\n        },\n        {\n            name=\"sort\",\n            bind={\n                input=\"checkbox\"\n            },\n            value=false\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_circular_charts/#Donut-Chart-1","page":"Circular Charts","title":"Donut Chart","text":"","category":"section"},{"location":"examples/examples_vega_circular_charts/#","page":"Circular Charts","title":"Circular Charts","text":"using VegaLite\n\n@vgplot(\n    height=200,\n    marks=[\n        {\n            encode={\n                update={\n                    innerRadius={\n                        signal=\"innerRadius\"\n                    },\n                    startAngle={\n                        field=\"startAngle\"\n                    },\n                    cornerRadius={\n                        signal=\"cornerRadius\"\n                    },\n                    padAngle={\n                        signal=\"padAngle\"\n                    },\n                    endAngle={\n                        field=\"endAngle\"\n                    },\n                    outerRadius={\n                        signal=\"width / 2\"\n                    }\n                },\n                enter={\n                    x={\n                        signal=\"width / 2\"\n                    },\n                    fill={\n                        field=\"id\",\n                        scale=\"color\"\n                    },\n                    y={\n                        signal=\"height / 2\"\n                    }\n                }\n            },\n            from={\n                data=\"table\"\n            },\n            type=\"arc\"\n        }\n    ],\n    data=[\n        {\n            name=\"table\",\n            values=[\n                {\n                    id=1,\n                    field=4\n                },\n                {\n                    id=2,\n                    field=6\n                },\n                {\n                    id=3,\n                    field=10\n                },\n                {\n                    id=4,\n                    field=3\n                },\n                {\n                    id=5,\n                    field=7\n                },\n                {\n                    id=6,\n                    field=8\n                }\n            ],\n            transform=[\n                {\n                    startAngle={\n                        signal=\"startAngle\"\n                    },\n                    sort={\n                        signal=\"sort\"\n                    },\n                    field=\"field\",\n                    endAngle={\n                        signal=\"endAngle\"\n                    },\n                    type=\"pie\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"color\",\n            range={\n                scheme=\"category20\"\n            },\n            domain={\n                data=\"table\",\n                field=\"id\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=200,\n    autosize=\"none\",\n    signals=[\n        {\n            name=\"startAngle\",\n            bind={\n                step=0.01,\n                max=6.29,\n                min=0,\n                input=\"range\"\n            },\n            value=0\n        },\n        {\n            name=\"endAngle\",\n            bind={\n                step=0.01,\n                max=6.29,\n                min=0,\n                input=\"range\"\n            },\n            value=6.29\n        },\n        {\n            name=\"padAngle\",\n            bind={\n                max=0.1,\n                min=0,\n                input=\"range\"\n            },\n            value=0\n        },\n        {\n            name=\"innerRadius\",\n            bind={\n                step=1,\n                max=90,\n                min=0,\n                input=\"range\"\n            },\n            value=60\n        },\n        {\n            name=\"cornerRadius\",\n            bind={\n                step=0.5,\n                max=10,\n                min=0,\n                input=\"range\"\n            },\n            value=0\n        },\n        {\n            name=\"sort\",\n            bind={\n                input=\"checkbox\"\n            },\n            value=false\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_circular_charts/#Radial-Plot-1","page":"Circular Charts","title":"Radial Plot","text":"","category":"section"},{"location":"examples/examples_vega_circular_charts/#","page":"Circular Charts","title":"Circular Charts","text":"using VegaLite\n\n@vgplot(\n    height=200,\n    marks=[\n        {\n            encode={\n                update={\n                    fill={\n                        value=\"#ccc\"\n                    }\n                },\n                hover={\n                    fill={\n                        value=\"pink\"\n                    }\n                },\n                enter={\n                    innerRadius={\n                        value=20\n                    },\n                    startAngle={\n                        field=\"startAngle\"\n                    },\n                    stroke={\n                        value=\"#fff\"\n                    },\n                    x={\n                        mult=0.5,\n                        field={\n                            group=\"width\"\n                        }\n                    },\n                    endAngle={\n                        field=\"endAngle\"\n                    },\n                    outerRadius={\n                        field=\"data\",\n                        scale=\"r\"\n                    },\n                    y={\n                        mult=0.5,\n                        field={\n                            group=\"height\"\n                        }\n                    }\n                }\n            },\n            from={\n                data=\"table\"\n            },\n            type=\"arc\"\n        },\n        {\n            encode={\n                enter={\n                    align={\n                        value=\"center\"\n                    },\n                    theta={\n                        signal=\"(datum.startAngle + datum.endAngle)/2\"\n                    },\n                    x={\n                        mult=0.5,\n                        field={\n                            group=\"width\"\n                        }\n                    },\n                    radius={\n                        offset=8,\n                        field=\"data\",\n                        scale=\"r\"\n                    },\n                    fill={\n                        value=\"#000\"\n                    },\n                    baseline={\n                        value=\"middle\"\n                    },\n                    text={\n                        field=\"data\"\n                    },\n                    y={\n                        mult=0.5,\n                        field={\n                            group=\"height\"\n                        }\n                    }\n                }\n            },\n            from={\n                data=\"table\"\n            },\n            type=\"text\"\n        }\n    ],\n    data=[\n        {\n            name=\"table\",\n            values=[\n                12,\n                23,\n                47,\n                6,\n                52,\n                19\n            ],\n            transform=[\n                {\n                    field=\"data\",\n                    type=\"pie\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"r\",\n            zero=true,\n            range=[\n                20,\n                100\n            ],\n            domain={\n                data=\"table\",\n                field=\"data\"\n            },\n            type=\"sqrt\"\n        }\n    ],\n    width=200\n)","category":"page"},{"location":"examples/examples_vega_circular_charts/#Radar-Chart-1","page":"Circular Charts","title":"Radar Chart","text":"","category":"section"},{"location":"examples/examples_vega_circular_charts/#","page":"Circular Charts","title":"Circular Charts","text":"using VegaLite\n\n@vgplot(\n    height=400,\n    padding=40,\n    marks=[\n        {\n            name=\"categories\",\n            marks=[\n                {\n                    name=\"category-line\",\n                    encode={\n                        enter={\n                            stroke={\n                                field=\"category\",\n                                scale=\"color\"\n                            },\n                            interpolate={\n                                value=\"linear-closed\"\n                            },\n                            x={\n                                signal=\"scale('radial', datum.value) * cos(scale('angular', datum.key))\"\n                            },\n                            strokeWidth={\n                                value=1\n                            },\n                            fillOpacity={\n                                value=0.1\n                            },\n                            fill={\n                                field=\"category\",\n                                scale=\"color\"\n                            },\n                            y={\n                                signal=\"scale('radial', datum.value) * sin(scale('angular', datum.key))\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"facet\"\n                    },\n                    type=\"line\"\n                },\n                {\n                    name=\"value-text\",\n                    encode={\n                        enter={\n                            align={\n                                value=\"center\"\n                            },\n                            x={\n                                signal=\"datum.x\"\n                            },\n                            text={\n                                signal=\"datum.datum.value\"\n                            },\n                            baseline={\n                                value=\"middle\"\n                            },\n                            fill={\n                                value=\"black\"\n                            },\n                            y={\n                                signal=\"datum.y\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"category-line\"\n                    },\n                    type=\"text\"\n                }\n            ],\n            zindex=1,\n            from={\n                facet={\n                    name=\"facet\",\n                    data=\"table\",\n                    groupby=[\n                        \"category\"\n                    ]\n                }\n            },\n            type=\"group\"\n        },\n        {\n            name=\"radial-grid\",\n            encode={\n                enter={\n                    stroke={\n                        value=\"lightgray\"\n                    },\n                    x2={\n                        signal=\"radius * cos(scale('angular', datum.key))\"\n                    },\n                    x={\n                        value=0\n                    },\n                    y2={\n                        signal=\"radius * sin(scale('angular', datum.key))\"\n                    },\n                    strokeWidth={\n                        value=1\n                    },\n                    y={\n                        value=0\n                    }\n                }\n            },\n            zindex=0,\n            from={\n                data=\"keys\"\n            },\n            type=\"rule\"\n        },\n        {\n            name=\"key-label\",\n            encode={\n                enter={\n                    align=[\n                        {\n                            test=\"abs(scale('angular', datum.key)) > PI / 2\",\n                            value=\"right\"\n                        },\n                        {\n                            value=\"left\"\n                        }\n                    ],\n                    fontWeight={\n                        value=\"bold\"\n                    },\n                    x={\n                        signal=\"(radius + 5) * cos(scale('angular', datum.key))\"\n                    },\n                    text={\n                        field=\"key\"\n                    },\n                    baseline=[\n                        {\n                            test=\"scale('angular', datum.key) > 0\",\n                            value=\"top\"\n                        },\n                        {\n                            test=\"scale('angular', datum.key) == 0\",\n                            value=\"middle\"\n                        },\n                        {\n                            value=\"bottom\"\n                        }\n                    ],\n                    fill={\n                        value=\"black\"\n                    },\n                    y={\n                        signal=\"(radius + 5) * sin(scale('angular', datum.key))\"\n                    }\n                }\n            },\n            zindex=1,\n            from={\n                data=\"keys\"\n            },\n            type=\"text\"\n        },\n        {\n            name=\"outer-line\",\n            encode={\n                enter={\n                    stroke={\n                        value=\"lightgray\"\n                    },\n                    interpolate={\n                        value=\"linear-closed\"\n                    },\n                    x={\n                        field=\"x2\"\n                    },\n                    strokeWidth={\n                        value=1\n                    },\n                    y={\n                        field=\"y2\"\n                    }\n                }\n            },\n            from={\n                data=\"radial-grid\"\n            },\n            type=\"line\"\n        }\n    ],\n    encode={\n        enter={\n            x={\n                signal=\"radius\"\n            },\n            y={\n                signal=\"radius\"\n            }\n        }\n    },\n    data=[\n        {\n            name=\"table\",\n            values=[\n                {\n                    key=\"key-0\",\n                    value=19,\n                    category=0\n                },\n                {\n                    key=\"key-1\",\n                    value=22,\n                    category=0\n                },\n                {\n                    key=\"key-2\",\n                    value=14,\n                    category=0\n                },\n                {\n                    key=\"key-3\",\n                    value=38,\n                    category=0\n                },\n                {\n                    key=\"key-4\",\n                    value=23,\n                    category=0\n                },\n                {\n                    key=\"key-5\",\n                    value=5,\n                    category=0\n                },\n                {\n                    key=\"key-6\",\n                    value=27,\n                    category=0\n                },\n                {\n                    key=\"key-0\",\n                    value=13,\n                    category=1\n                },\n                {\n                    key=\"key-1\",\n                    value=12,\n                    category=1\n                },\n                {\n                    key=\"key-2\",\n                    value=42,\n                    category=1\n                },\n                {\n                    key=\"key-3\",\n                    value=13,\n                    category=1\n                },\n                {\n                    key=\"key-4\",\n                    value=6,\n                    category=1\n                },\n                {\n                    key=\"key-5\",\n                    value=15,\n                    category=1\n                },\n                {\n                    key=\"key-6\",\n                    value=8,\n                    category=1\n                }\n            ]\n        },\n        {\n            name=\"keys\",\n            source=\"table\",\n            transform=[\n                {\n                    groupby=[\n                        \"key\"\n                    ],\n                    type=\"aggregate\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"angular\",\n            padding=0.5,\n            range={\n                signal=\"[-PI, PI]\"\n            },\n            domain={\n                data=\"table\",\n                field=\"key\"\n            },\n            type=\"point\"\n        },\n        {\n            name=\"radial\",\n            zero=true,\n            nice=false,\n            range={\n                signal=\"[0, radius]\"\n            },\n            domain={\n                data=\"table\",\n                field=\"value\"\n            },\n            domainMin=0,\n            type=\"linear\"\n        },\n        {\n            name=\"color\",\n            range={\n                scheme=\"category10\"\n            },\n            domain={\n                data=\"table\",\n                field=\"category\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=400,\n    autosize={\n        contains=\"padding\",\n        type=\"none\"\n    },\n    signals=[\n        {\n            name=\"radius\",\n            update=\"width / 2\"\n        }\n    ]\n)\n","category":"page"},{"location":"gettingstarted/installation/#Installation-1","page":"Installation","title":"Installation","text":"","category":"section"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"To install VegaLite.jl, run the following command in the Julia Pkg REPL-mode:","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"pkg> add VegaLite","category":"page"},{"location":"gettingstarted/installation/#REPL-frontends-1","page":"Installation","title":"REPL frontends","text":"","category":"section"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"If you create plots from the standard Julia REPL, they will show up in a browser window when displayed.","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"As an alternative you can install ElectronDisplay.jl with pkg> add ElectronDisplay. Whenever you load that package with using ElectronDisplay, any plot you display will then show up in an electron based window instead of a browser window.","category":"page"},{"location":"gettingstarted/installation/#Notebook-frontends-1","page":"Installation","title":"Notebook frontends","text":"","category":"section"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"VegaLite.jl works with Jupyter Lab, Jupyter Notebook and nteract.","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"The first step to use any of these notebooks frontends is to install them. The second step is to install the general Julia integration by running the following Julia code:","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"pkg> add IJulia","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"At that point you should be able to use VegaLite.jl in notebooks that have a Julia kernel.","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"We recommend that you use either Jupyter Lab or nteract for the best VegaLite.jl experience: you will get the full interactive experience of Vega-Lite in those two frontends without any further installations. While you can display plots in the classic Jupyter Notebook, you won't get interactive plots in that environment without further setup steps.","category":"page"},{"location":"gettingstarted/installation/#VS-Code-and-Juno/Atom-1","page":"Installation","title":"VS Code and Juno/Atom","text":"","category":"section"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"If you plot from within VS Code with the Julia extension or Juno/Atom, plots will show up in a plot pane in those editors.","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"Plots in VS Code support all features of VegaLite.jl, including all interactive features. The plot pane in Juno currently does not support the interactive features of VegaLite.jl.","category":"page"},{"location":"gettingstarted/installation/#Example-Datasets-1","page":"Installation","title":"Example Datasets","text":"","category":"section"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"Many of the examples in the documentation use data from the Vega Datasets repository. You can access these datasets easily with the Julia package VegaDatasets.jl. To install that package, run the following Julia code:","category":"page"},{"location":"gettingstarted/installation/#","page":"Installation","title":"Installation","text":"pkg> add VegaDatasets","category":"page"},{"location":"examples/examples_vega_scatter_plots/#Scatter-Plots-1","page":"Scatter Plots","title":"Scatter Plots","text":"","category":"section"},{"location":"examples/examples_vega_scatter_plots/#Scatter-Plot-1","page":"Scatter Plots","title":"Scatter Plot","text":"","category":"section"},{"location":"examples/examples_vega_scatter_plots/#","page":"Scatter Plots","title":"Scatter Plots","text":"using VegaLite, VegaDatasets\n\n@vgplot(    \n    height=200,\n    padding=5,\n    marks=[\n        {\n            name=\"marks\",\n            encode={\n                update={\n                    shape={\n                        value=\"circle\"\n                    },\n                    stroke={\n                        value=\"#4682b4\"\n                    },\n                    x={\n                        field=\"Horsepower\",\n                        scale=\"x\"\n                    },\n                    strokeWidth={\n                        value=2\n                    },\n                    size={\n                        field=\"Acceleration\",\n                        scale=\"size\"\n                    },\n                    fill={\n                        value=\"transparent\"\n                    },\n                    opacity={\n                        value=0.5\n                    },\n                    y={\n                        field=\"Miles_per_Gallon\",\n                        scale=\"y\"\n                    }\n                }\n            },\n            from={\n                data=\"source\"\n            },\n            type=\"symbol\"\n        }\n    ],\n    axes=[\n        {\n            domain=false,\n            tickCount=5,\n            grid=true,\n            title=\"Horsepower\",\n            scale=\"x\",\n            orient=\"bottom\"\n        },\n        {\n            domain=false,\n            grid=true,\n            titlePadding=5,\n            title=\"Miles_per_Gallon\",\n            scale=\"y\",\n            orient=\"left\"\n        }\n    ],\n    data=[\n        {\n            name=\"source\",\n            values=dataset(\"cars\"),\n            transform=[\n                {\n                    expr=\"datum['Horsepower'] != null && datum['Miles_per_Gallon'] != null && datum['Acceleration'] != null\",\n                    type=\"filter\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"x\",\n            nice=true,\n            zero=true,\n            range=\"width\",\n            domain={\n                data=\"source\",\n                field=\"Horsepower\"\n            },\n            type=\"linear\",\n            round=true\n        },\n        {\n            name=\"y\",\n            nice=true,\n            zero=true,\n            range=\"height\",\n            domain={\n                data=\"source\",\n                field=\"Miles_per_Gallon\"\n            },\n            type=\"linear\",\n            round=true\n        },\n        {\n            name=\"size\",\n            nice=false,\n            zero=true,\n            range=[\n                4,\n                361\n            ],\n            domain={\n                data=\"source\",\n                field=\"Acceleration\"\n            },\n            type=\"linear\",\n            round=true\n        }\n    ],\n    width=200,\n    legends=[\n        {\n            symbolOpacity=0.5,\n            format=\"s\",\n            symbolStrokeWidth=2,\n            title=\"Acceleration\",\n            size=\"size\",\n            symbolStrokeColor=\"#4682b4\",\n            symbolType=\"circle\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_scatter_plots/#Scatter-Plot-Null-Values-1","page":"Scatter Plots","title":"Scatter Plot Null Values","text":"","category":"section"},{"location":"examples/examples_vega_scatter_plots/#","page":"Scatter Plots","title":"Scatter Plots","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=450,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    x={\n                        field={\n                            signal=\"xField\"\n                        },\n                        scale=\"xscale\"\n                    },\n                    zindex={\n                        value=0\n                    },\n                    fillOpacity={\n                        value=0.5\n                    },\n                    fill={\n                        value=\"steelblue\"\n                    },\n                    y={\n                        field={\n                            signal=\"yField\"\n                        },\n                        scale=\"yscale\"\n                    }\n                },\n                hover={\n                    zindex={\n                        value=1\n                    },\n                    fillOpacity={\n                        value=1\n                    },\n                    fill={\n                        value=\"firebrick\"\n                    }\n                },\n                enter={\n                    tooltip={\n                        field=\"tooltip\"\n                    },\n                    size={\n                        value=50\n                    }\n                }\n            },\n            from={\n                data=\"valid\"\n            },\n            type=\"symbol\"\n        },\n        {\n            encode={\n                update={\n                    x={\n                        field={\n                            signal=\"xField\"\n                        },\n                        scale=\"xscale\"\n                    },\n                    fillOpacity={\n                        value=0.2\n                    },\n                    fill={\n                        value=\"#aaa\"\n                    },\n                    y={\n                        signal=\"height - nullSize/2\"\n                    }\n                },\n                hover={\n                    fillOpacity={\n                        value=1\n                    },\n                    fill={\n                        value=\"firebrick\"\n                    }\n                },\n                enter={\n                    tooltip={\n                        field=\"tooltip\"\n                    },\n                    size={\n                        value=50\n                    }\n                }\n            },\n            from={\n                data=\"nullY\"\n            },\n            type=\"symbol\"\n        },\n        {\n            encode={\n                update={\n                    x={\n                        signal=\"nullSize/2\"\n                    },\n                    zindex={\n                        value=0\n                    },\n                    fillOpacity={\n                        value=0.2\n                    },\n                    fill={\n                        value=\"#aaa\"\n                    },\n                    y={\n                        field={\n                            signal=\"yField\"\n                        },\n                        scale=\"yscale\"\n                    }\n                },\n                hover={\n                    zindex={\n                        value=1\n                    },\n                    fillOpacity={\n                        value=1\n                    },\n                    fill={\n                        value=\"firebrick\"\n                    }\n                },\n                enter={\n                    tooltip={\n                        field=\"tooltip\"\n                    },\n                    size={\n                        value=50\n                    }\n                }\n            },\n            from={\n                data=\"nullX\"\n            },\n            type=\"symbol\"\n        },\n        {\n            encode={\n                update={\n                    align={\n                        value=\"right\"\n                    },\n                    x={\n                        offset=-4,\n                        signal=\"nullSize\"\n                    },\n                    fontSize={\n                        value=9\n                    },\n                    text={\n                        signal=\"datum.count + ' null'\"\n                    },\n                    baseline={\n                        value=\"top\"\n                    },\n                    fill={\n                        value=\"#999\"\n                    },\n                    y={\n                        offset=13,\n                        signal=\"height\"\n                    }\n                }\n            },\n            interactive=false,\n            from={\n                data=\"nullXY\"\n            },\n            type=\"text\"\n        }\n    ],\n    axes=[\n        {\n            format=\"s\",\n            offset=5,\n            title={\n                signal=\"xField\"\n            },\n            scale=\"xscale\",\n            orient=\"bottom\"\n        },\n        {\n            format=\"s\",\n            offset=5,\n            title={\n                signal=\"yField\"\n            },\n            scale=\"yscale\",\n            orient=\"left\"\n        }\n    ],\n    data=[\n        {\n            name=\"movies\",\n            values=dataset(\"movies\"),\n            transform=[\n                {\n                    as=\"tooltip\",\n                    expr=\"datum.Title + ' (' + (year(datum.Release_Date) || '?') + ')'\",\n                    type=\"formula\"\n                }\n            ]\n        },\n        {\n            name=\"valid\",\n            source=\"movies\",\n            transform=[\n                {\n                    expr=\"datum[xField] != null && datum[yField] != null\",\n                    type=\"filter\"\n                }\n            ]\n        },\n        {\n            name=\"nullXY\",\n            source=\"movies\",\n            transform=[\n                {\n                    expr=\"datum[xField] == null && datum[yField] == null\",\n                    type=\"filter\"\n                },\n                {\n                    type=\"aggregate\"\n                }\n            ]\n        },\n        {\n            name=\"nullY\",\n            source=\"movies\",\n            transform=[\n                {\n                    expr=\"datum[xField] != null && datum[yField] == null\",\n                    type=\"filter\"\n                }\n            ]\n        },\n        {\n            name=\"nullX\",\n            source=\"movies\",\n            transform=[\n                {\n                    expr=\"datum[xField] == null && datum[yField] != null\",\n                    type=\"filter\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"yscale\",\n            nice=true,\n            range=[\n                {\n                    signal=\"height - nullGap\"\n                },\n                0\n            ],\n            domain={\n                data=\"valid\",\n                field={\n                    signal=\"yField\"\n                }\n            },\n            type=\"linear\"\n        },\n        {\n            name=\"xscale\",\n            nice=true,\n            range=[\n                {\n                    signal=\"nullGap\"\n                },\n                {\n                    signal=\"width\"\n                }\n            ],\n            domain={\n                data=\"valid\",\n                field={\n                    signal=\"xField\"\n                }\n            },\n            type=\"linear\"\n        }\n    ],\n    width=450,\n    autosize={\n        type=\"fit\",\n        resize=true\n    },\n    signals=[\n        {\n            name=\"yField\",\n            bind={\n                options=[\n                    \"IMDB_Rating\",\n                    \"Rotten_Tomatoes_Rating\",\n                    \"US_Gross\",\n                    \"Worldwide_Gross\"\n                ],\n                input=\"select\"\n            },\n            value=\"IMDB_Rating\"\n        },\n        {\n            name=\"xField\",\n            bind={\n                options=[\n                    \"IMDB_Rating\",\n                    \"Rotten_Tomatoes_Rating\",\n                    \"US_Gross\",\n                    \"Worldwide_Gross\"\n                ],\n                input=\"select\"\n            },\n            value=\"Rotten_Tomatoes_Rating\"\n        },\n        {\n            name=\"nullSize\",\n            value=8\n        },\n        {\n            name=\"nullGap\",\n            update=\"nullSize + 10\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_scatter_plots/#Connected-Scatter-Plot-1","page":"Scatter Plots","title":"Connected Scatter Plot","text":"","category":"section"},{"location":"examples/examples_vega_scatter_plots/#","page":"Scatter Plots","title":"Scatter Plots","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=500,\n    padding=5,\n    marks=[\n        {\n            encode={\n                enter={\n                    stroke={\n                        value=\"#000\"\n                    },\n                    interpolate={\n                        value=\"cardinal\"\n                    },\n                    x={\n                        field=\"miles\",\n                        scale=\"x\"\n                    },\n                    strokeWidth={\n                        value=3\n                    },\n                    y={\n                        field=\"gas\",\n                        scale=\"y\"\n                    }\n                }\n            },\n            from={\n                data=\"drive\"\n            },\n            type=\"line\"\n        },\n        {\n            encode={\n                enter={\n                    stroke={\n                        value=\"#000\"\n                    },\n                    x={\n                        field=\"miles\",\n                        scale=\"x\"\n                    },\n                    strokeWidth={\n                        value=1\n                    },\n                    size={\n                        value=49\n                    },\n                    fill={\n                        value=\"#fff\"\n                    },\n                    y={\n                        field=\"gas\",\n                        scale=\"y\"\n                    }\n                }\n            },\n            from={\n                data=\"drive\"\n            },\n            type=\"symbol\"\n        },\n        {\n            encode={\n                enter={\n                    align={\n                        field=\"side\",\n                        scale=\"align\"\n                    },\n                    x={\n                        field=\"miles\",\n                        scale=\"x\"\n                    },\n                    dy={\n                        field=\"side\",\n                        scale=\"dy\"\n                    },\n                    dx={\n                        field=\"side\",\n                        scale=\"dx\"\n                    },\n                    fill={\n                        value=\"#000\"\n                    },\n                    text={\n                        field=\"year\"\n                    },\n                    baseline={\n                        field=\"side\",\n                        scale=\"base\"\n                    },\n                    y={\n                        field=\"gas\",\n                        scale=\"y\"\n                    }\n                }\n            },\n            from={\n                data=\"drive\"\n            },\n            type=\"text\"\n        }\n    ],\n    config={\n        axis={\n            labelFontSize=12,\n            domain=false,\n            labelFontWeight=\"bold\",\n            tickSize=0\n        }\n    },\n    axes=[\n        {\n            tickCount=5,\n            grid=true,\n            scale=\"x\",\n            orient=\"top\"\n        },\n        {\n            labels=false,\n            title=\"Miles driven per capita each year\",\n            scale=\"x\",\n            orient=\"bottom\",\n            ticks=false\n        },\n        {\n            format=\"\\$0.2f\",\n            tickCount=5,\n            grid=true,\n            scale=\"y\",\n            orient=\"left\"\n        },\n        {\n            labels=false,\n            title=\"Price of a gallon of gasoline (adjusted for inflation)\",\n            scale=\"y\",\n            orient=\"right\",\n            ticks=false\n        }\n    ],\n    data=[:drive=>dataset(\"driving\")],\n    scales=[\n        {\n            name=\"x\",\n            nice=true,\n            zero=false,\n            range=\"width\",\n            domain={\n                data=\"drive\",\n                field=\"miles\"\n            },\n            type=\"linear\",\n            round=true\n        },\n        {\n            name=\"y\",\n            nice=true,\n            zero=false,\n            range=\"height\",\n            domain={\n                data=\"drive\",\n                field=\"gas\"\n            },\n            type=\"linear\",\n            round=true\n        },\n        {\n            name=\"align\",\n            range=[\n                \"right\",\n                \"left\",\n                \"center\",\n                \"center\"\n            ],\n            domain=[\n                \"left\",\n                \"right\",\n                \"top\",\n                \"bottom\"\n            ],\n            type=\"ordinal\"\n        },\n        {\n            name=\"base\",\n            range=[\n                \"middle\",\n                \"middle\",\n                \"bottom\",\n                \"top\"\n            ],\n            domain=[\n                \"left\",\n                \"right\",\n                \"top\",\n                \"bottom\"\n            ],\n            type=\"ordinal\"\n        },\n        {\n            name=\"dx\",\n            range=[\n                -7,\n                6,\n                0,\n                0\n            ],\n            domain=[\n                \"left\",\n                \"right\",\n                \"top\",\n                \"bottom\"\n            ],\n            type=\"ordinal\"\n        },\n        {\n            name=\"dy\",\n            range=[\n                1,\n                1,\n                -5,\n                6\n            ],\n            domain=[\n                \"left\",\n                \"right\",\n                \"top\",\n                \"bottom\"\n            ],\n            type=\"ordinal\"\n        }\n    ],\n    width=800\n)","category":"page"},{"location":"examples/examples_vega_scatter_plots/#Error-Bars-1","page":"Scatter Plots","title":"Error Bars","text":"","category":"section"},{"location":"examples/examples_vega_scatter_plots/#","page":"Scatter Plots","title":"Scatter Plots","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=160,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    x2={\n                        signal=\"datum[measure+'1']\",\n                        scale=\"xscale\"\n                    },\n                    x={\n                        signal=\"datum[measure+'0']\",\n                        scale=\"xscale\"\n                    },\n                    y={\n                        field=\"variety\",\n                        scale=\"yscale\",\n                        band=0.5\n                    }\n                },\n                enter={\n                    height={\n                        value=1\n                    },\n                    fill={\n                        value=\"black\"\n                    }\n                }\n            },\n            from={\n                data=\"summary\"\n            },\n            type=\"rect\"\n        },\n        {\n            encode={\n                update={\n                    x={\n                        field=\"mean\",\n                        scale=\"xscale\"\n                    },\n                    y={\n                        field=\"variety\",\n                        scale=\"yscale\",\n                        band=0.5\n                    }\n                },\n                enter={\n                    size={\n                        value=40\n                    },\n                    fill={\n                        value=\"black\"\n                    }\n                }\n            },\n            from={\n                data=\"summary\"\n            },\n            type=\"symbol\"\n        }\n    ],\n    config={\n        axisBand={\n            tickOffset=0,\n            tickExtra=true,\n            bandPosition=1\n        }\n    },\n    axes=[\n        {\n            zindex=1,\n            title=\"Barley Yield\",\n            scale=\"xscale\",\n            orient=\"bottom\"\n        },\n        {\n            tickCount=5,\n            zindex=1,\n            scale=\"yscale\",\n            orient=\"left\"\n        }\n    ],\n    data=[\n        :barley=>dataset(\"barley\"),\n        {\n            name=\"summary\",\n            source=\"barley\",\n            transform=[\n                {\n                    fields=[\n                        \"yield\",\n                        \"yield\",\n                        \"yield\",\n                        \"yield\",\n                        \"yield\",\n                        \"yield\",\n                        \"yield\"\n                    ],\n                    ops=[\n                        \"mean\",\n                        \"stdev\",\n                        \"stderr\",\n                        \"ci0\",\n                        \"ci1\",\n                        \"q1\",\n                        \"q3\"\n                    ],\n                    as=[\n                        \"mean\",\n                        \"stdev\",\n                        \"stderr\",\n                        \"ci0\",\n                        \"ci1\",\n                        \"iqr0\",\n                        \"iqr1\"\n                    ],\n                    groupby=[\n                        \"variety\"\n                    ],\n                    type=\"aggregate\"\n                },\n                {\n                    as=\"stdev0\",\n                    expr=\"datum.mean - datum.stdev\",\n                    type=\"formula\"\n                },\n                {\n                    as=\"stdev1\",\n                    expr=\"datum.mean + datum.stdev\",\n                    type=\"formula\"\n                },\n                {\n                    as=\"stderr0\",\n                    expr=\"datum.mean - datum.stderr\",\n                    type=\"formula\"\n                },\n                {\n                    as=\"stderr1\",\n                    expr=\"datum.mean + datum.stderr\",\n                    type=\"formula\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"yscale\",\n            range=\"height\",\n            domain={\n                sort={\n                    order=\"descending\",\n                    field=\"mean\",\n                    op=\"max\"\n                },\n                data=\"summary\",\n                field=\"variety\"\n            },\n            type=\"band\"\n        },\n        {\n            name=\"xscale\",\n            zero=false,\n            nice=true,\n            range=\"width\",\n            domain={\n                fields=[\n                    \"stdev0\",\n                    \"stdev1\"\n                ],\n                data=\"summary\"\n            },\n            type=\"linear\",\n            round=true\n        }\n    ],\n    width=500,\n    signals=[\n        {\n            name=\"errorMeasure\",\n            bind={\n                options=[\n                    \"95% Confidence Interval\",\n                    \"Standard Error\",\n                    \"Standard Deviation\",\n                    \"Interquartile Range\"\n                ],\n                input=\"select\"\n            },\n            value=\"95% Confidence Interval\"\n        },\n        {\n            name=\"lookup\",\n            value={\n                var\"95% Confidence Interval\"=\"ci\",\n                var\"Standard Deviation\"=\"stdev\",\n                var\"Interquartile Range\"=\"iqr\",\n                var\"Standard Error\"=\"stderr\"\n            }\n        },\n        {\n            name=\"measure\",\n            update=\"lookup[errorMeasure]\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_scatter_plots/#Barley-Trellis-Plot-1","page":"Scatter Plots","title":"Barley Trellis Plot","text":"","category":"section"},{"location":"examples/examples_vega_scatter_plots/#","page":"Scatter Plots","title":"Scatter Plots","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    padding=5,\n    marks=[\n        {\n            name=\"site\",\n            marks=[\n                {\n                    encode={\n                        enter={\n                            stroke={\n                                field=\"year\",\n                                scale=\"cscale\"\n                            },\n                            x={\n                                field=\"yield\",\n                                scale=\"xscale\"\n                            },\n                            strokeWidth={\n                                value=2\n                            },\n                            size={\n                                value=50\n                            },\n                            y={\n                                field=\"variety\",\n                                scale=\"yscale\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"sites\"\n                    },\n                    type=\"symbol\"\n                }\n            ],\n            encode={\n                enter={\n                    height={\n                        signal=\"cellHeight\"\n                    },\n                    stroke={\n                        value=\"#ccc\"\n                    },\n                    width={\n                        signal=\"width\"\n                    },\n                    y={\n                        offset={\n                            signal=\"offset\"\n                        },\n                        field=\"site\",\n                        scale=\"gscale\"\n                    }\n                }\n            },\n            axes=[\n                {\n                    domain=false,\n                    encode={\n                        grid={\n                            enter={\n                                strokeDash={\n                                    value=[\n                                        3,\n                                        3\n                                    ]\n                                }\n                            }\n                        }\n                    },\n                    grid=true,\n                    scale=\"yscale\",\n                    orient=\"left\",\n                    tickSize=0\n                },\n                {\n                    domain=false,\n                    scale=\"yscale\",\n                    orient=\"right\",\n                    tickSize=0\n                }\n            ],\n            scales=[\n                {\n                    name=\"yscale\",\n                    padding=1,\n                    range=[\n                        0,\n                        {\n                            signal=\"cellHeight\"\n                        }\n                    ],\n                    domain={\n                        sort={\n                            order=\"descending\",\n                            field=\"yield\",\n                            op=\"median\"\n                        },\n                        data=\"barley\",\n                        field=\"variety\"\n                    },\n                    type=\"point\",\n                    round=true\n                }\n            ],\n            from={\n                facet={\n                    name=\"sites\",\n                    data=\"barley\",\n                    groupby=\"site\"\n                }\n            },\n            type=\"group\"\n        },\n        {\n            encode={\n                enter={\n                    fontWeight={\n                        value=\"bold\"\n                    },\n                    align={\n                        value=\"center\"\n                    },\n                    x={\n                        mult=0.5,\n                        field=\"width\"\n                    },\n                    fontSize={\n                        value=11\n                    },\n                    text={\n                        field=\"datum.site\"\n                    },\n                    baseline={\n                        value=\"bottom\"\n                    },\n                    fill={\n                        value=\"#000\"\n                    },\n                    y={\n                        field=\"y\"\n                    }\n                }\n            },\n            from={\n                data=\"site\"\n            },\n            type=\"text\"\n        }\n    ],\n    axes=[\n        {\n            zindex=1,\n            scale=\"xscale\",\n            orient=\"bottom\"\n        }\n    ],\n    data=[:barley=>dataset(\"barley\")],\n    scales=[\n        {\n            name=\"gscale\",\n            range=[\n                0,\n                {\n                    signal=\"height\"\n                }\n            ],\n            domain={\n                sort={\n                    order=\"descending\",\n                    field=\"yield\",\n                    op=\"median\"\n                },\n                data=\"barley\",\n                field=\"site\"\n            },\n            type=\"band\",\n            round=true\n        },\n        {\n            name=\"xscale\",\n            nice=true,\n            range=\"width\",\n            domain={\n                data=\"barley\",\n                field=\"yield\"\n            },\n            type=\"linear\",\n            round=true\n        },\n        {\n            name=\"cscale\",\n            range=\"category\",\n            domain={\n                data=\"barley\",\n                field=\"year\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=200,\n    signals=[\n        {\n            name=\"offset\",\n            value=15\n        },\n        {\n            name=\"cellHeight\",\n            value=100\n        },\n        {\n            name=\"height\",\n            update=\"6 * (offset + cellHeight)\"\n        }\n    ],\n    legends=[\n        {\n            stroke=\"cscale\",\n            padding=4,\n            encode={\n                symbols={\n                    enter={\n                        strokeWidth={\n                            value=2\n                        },\n                        size={\n                            value=50\n                        }\n                    }\n                }\n            },\n            title=\"Year\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_scatter_plots/#Regression-1","page":"Scatter Plots","title":"Regression","text":"","category":"section"},{"location":"examples/examples_vega_scatter_plots/#","page":"Scatter Plots","title":"Scatter Plots","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=500,\n    padding=5,\n    marks=[\n        {\n            encode={\n                enter={\n                    x={\n                        field=\"Rotten_Tomatoes_Rating\",\n                        scale=\"x\"\n                    },\n                    fillOpacity={\n                        value=0.5\n                    },\n                    size={\n                        value=16\n                    },\n                    y={\n                        field=\"IMDB_Rating\",\n                        scale=\"y\"\n                    }\n                }\n            },\n            from={\n                data=\"movies\"\n            },\n            type=\"symbol\"\n        },\n        {\n            marks=[\n                {\n                    encode={\n                        enter={\n                            stroke={\n                                value=\"firebrick\"\n                            },\n                            x={\n                                field=\"u\",\n                                scale=\"x\"\n                            },\n                            y={\n                                field=\"v\",\n                                scale=\"y\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"curve\"\n                    },\n                    type=\"line\"\n                }\n            ],\n            from={\n                facet={\n                    name=\"curve\",\n                    data=\"trend\",\n                    groupby=\"Major_Genre\"\n                }\n            },\n            type=\"group\"\n        }\n    ],\n    data=[\n        {\n            name=\"movies\",\n            values=dataset(\"movies\"),\n            transform=[\n                {\n                    expr=\"datum.Rotten_Tomatoes_Rating != null && datum.IMDB_Rating != null\",\n                    type=\"filter\"\n                }\n            ]\n        },\n        {\n            name=\"trend\",\n            source=\"movies\",\n            transform=[\n                {\n                    method={\n                        signal=\"method\"\n                    },\n                    order={\n                        signal=\"polyOrder\"\n                    },\n                    x=\"Rotten_Tomatoes_Rating\",\n                    as=[\n                        \"u\",\n                        \"v\"\n                    ],\n                    groupby=[\n                        {\n                            signal=\"groupby === 'genre' ? 'Major_Genre' : 'foo'\"\n                        }\n                    ],\n                    type=\"regression\",\n                    extent={\n                        signal=\"domain('x')\"\n                    },\n                    y=\"IMDB_Rating\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"x\",\n            range=\"width\",\n            domain={\n                data=\"movies\",\n                field=\"Rotten_Tomatoes_Rating\"\n            },\n            type=\"linear\"\n        },\n        {\n            name=\"y\",\n            range=\"height\",\n            domain={\n                data=\"movies\",\n                field=\"IMDB_Rating\"\n            },\n            type=\"linear\"\n        }\n    ],\n    width=500,\n    autosize=\"pad\",\n    signals=[\n        {\n            name=\"method\",\n            bind={\n                options=[\n                    \"linear\",\n                    \"log\",\n                    \"exp\",\n                    \"pow\",\n                    \"quad\",\n                    \"poly\"\n                ],\n                input=\"select\"\n            },\n            value=\"linear\"\n        },\n        {\n            name=\"polyOrder\",\n            bind={\n                step=1,\n                max=10,\n                min=1,\n                input=\"range\"\n            },\n            value=3\n        },\n        {\n            name=\"groupby\",\n            bind={\n                options=[\n                    \"none\",\n                    \"genre\"\n                ],\n                input=\"select\"\n            },\n            value=\"none\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_scatter_plots/#Loess-Regression-1","page":"Scatter Plots","title":"Loess Regression","text":"","category":"section"},{"location":"examples/examples_vega_scatter_plots/#","page":"Scatter Plots","title":"Scatter Plots","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=500,\n    padding=5,\n    marks=[\n        {\n            encode={\n                enter={\n                    x={\n                        field=\"Rotten_Tomatoes_Rating\",\n                        scale=\"x\"\n                    },\n                    fillOpacity={\n                        value=0.5\n                    },\n                    size={\n                        value=16\n                    },\n                    y={\n                        field=\"IMDB_Rating\",\n                        scale=\"y\"\n                    }\n                }\n            },\n            from={\n                data=\"movies\"\n            },\n            type=\"symbol\"\n        },\n        {\n            marks=[\n                {\n                    encode={\n                        enter={\n                            stroke={\n                                value=\"firebrick\"\n                            },\n                            x={\n                                field=\"u\",\n                                scale=\"x\"\n                            },\n                            y={\n                                field=\"v\",\n                                scale=\"y\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"curve\"\n                    },\n                    type=\"line\"\n                }\n            ],\n            from={\n                facet={\n                    name=\"curve\",\n                    data=\"trend\",\n                    groupby=\"Major_Genre\"\n                }\n            },\n            type=\"group\"\n        }\n    ],\n    data=[\n        {\n            name=\"movies\",\n            values=dataset(\"movies\"),\n            transform=[\n                {\n                    expr=\"datum.Rotten_Tomatoes_Rating != null && datum.IMDB_Rating != null\",\n                    type=\"filter\"\n                }\n            ]\n        },\n        {\n            name=\"trend\",\n            source=\"movies\",\n            transform=[\n                {\n                    bandwidth={\n                        signal=\"loessBandwidth\"\n                    },\n                    x=\"Rotten_Tomatoes_Rating\",\n                    as=[\n                        \"u\",\n                        \"v\"\n                    ],\n                    groupby=[\n                        {\n                            signal=\"groupby === 'genre' ? 'Major_Genre' : 'foo'\"\n                        }\n                    ],\n                    type=\"loess\",\n                    y=\"IMDB_Rating\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"x\",\n            range=\"width\",\n            domain={\n                data=\"movies\",\n                field=\"Rotten_Tomatoes_Rating\"\n            },\n            type=\"linear\"\n        },\n        {\n            name=\"y\",\n            range=\"height\",\n            domain={\n                data=\"movies\",\n                field=\"IMDB_Rating\"\n            },\n            type=\"linear\"\n        }\n    ],\n    width=500,\n    autosize=\"pad\",\n    signals=[\n        {\n            name=\"loessBandwidth\",\n            bind={\n                max=1,\n                min=0.05,\n                input=\"range\"\n            },\n            value=0.3\n        },\n        {\n            name=\"groupby\",\n            bind={\n                options=[\n                    \"none\",\n                    \"genre\"\n                ],\n                input=\"select\"\n            },\n            value=\"none\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Charts-1","page":"Simple Charts","title":"Simple Charts","text":"","category":"section"},{"location":"examples/examples_simplecharts/#Simple-Bar-Chart-1","page":"Simple Charts","title":"Simple Bar Chart","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, DataFrames\n\ndata = DataFrame(\n    a=[\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\"],\n    b=[28,55,43,91,81,53,19,87,52]\n)\n\ndata |> @vlplot(:bar, :a, :b)","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Heatmap-1","page":"Simple Charts","title":"Simple Heatmap","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, DataFrames\n\nx = [j for i in -5:4, j in -5:4]\ny = [i for i in -5:4, j in -5:4]\nz = x.^2 .+ y.^2\ndata = DataFrame(x=vec(x'),y=vec(y'),z=vec(z'))\n\ndata |> @vlplot(:rect, \"x:o\", \"y:o\", color=:z)","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Histogram-1","page":"Simple Charts","title":"Simple Histogram","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(:bar, x={:IMDB_Rating, bin=true}, y=\"count()\")","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Line-Chart-1","page":"Simple Charts","title":"Simple Line Chart","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite\n\nx = 0:100\ny = sin.(x./5)\n\ndata |> @vlplot(:line, x=x, y={y, title=\"sin(x)\"})","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Scatter-Plot-1","page":"Simple Charts","title":"Simple Scatter Plot","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"iris\") |>\n@vlplot(:point, x=:petalWidth, y=:petalLength, color=:species)","category":"page"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"TODO Add interactivity","category":"page"},{"location":"examples/examples_simplecharts/#Simple-Stacked-Area-Chart-1","page":"Simple Charts","title":"Simple Stacked Area Chart","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"unemployment-across-industries\") |>\n@vlplot(:area, x=\"date:t\", y=:count, color=:series)","category":"page"},{"location":"examples/examples_simplecharts/#Strip-Plot-1","page":"Simple Charts","title":"Strip Plot","text":"","category":"section"},{"location":"examples/examples_simplecharts/#","page":"Simple Charts","title":"Simple Charts","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:tick, x=:Horsepower, y=\"Cylinders:o\")","category":"page"},{"location":"examples/examples_maps/#Choropleth-of-unemployment-rate-per-county-1","page":"Maps (Geographic Displays)","title":"Choropleth of unemployment rate per county","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nunemployment = dataset(\"unemployment\")\n\n@vlplot(\n    :geoshape,\n    width=500, height=300,\n    data={\n        values=us10m,\n        format={\n            type=:topojson,\n            feature=:counties\n        }\n    },\n    transform=[{\n        lookup=:id,\n        from={\n            data=unemployment,\n            key=:id,\n            fields=[\"rate\"]\n        }\n    }],\n    projection={\n        type=:albersUsa\n    },\n    color=\"rate:q\"\n)","category":"page"},{"location":"examples/examples_maps/#One-dot-per-zipcode-in-the-U.S.-1","page":"Maps (Geographic Displays)","title":"One dot per zipcode in the U.S.","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\ndataset(\"zipcodes\") |>\n@vlplot(\n    :circle,\n    width=500, height=300,\n    transform=[{calculate=\"substring(datum.zip_code, 0, 1)\", as=:digit}],\n    projection={type=:albersUsa},\n    longitude=:longitude,\n    latitude=:latitude,\n    size={value=1},\n    color=\"digit:n\"\n)","category":"page"},{"location":"examples/examples_maps/#One-dot-per-airport-in-the-US-overlayed-on-geoshape-1","page":"Maps (Geographic Displays)","title":"One dot per airport in the US overlayed on geoshape","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nairports = dataset(\"airports\")\n\n@vlplot(width=500, height=300) +\n@vlplot(\n    mark={\n        :geoshape,\n        fill=:lightgray,\n        stroke=:white\n    },\n    data={\n        values=us10m,\n        format={\n            type=:topojson,\n            feature=:states\n        }\n    },\n    projection={type=:albersUsa},\n) +\n@vlplot(\n    :circle,\n    data=airports,\n    projection={type=:albersUsa},\n    longitude=\"longitude:q\",\n    latitude=\"latitude:q\",\n    size={value=10},\n    color={value=:steelblue}\n)","category":"page"},{"location":"examples/examples_maps/#Rules-(line-segments)-connecting-SEA-to-every-airport-reachable-via-direct-flight-1","page":"Maps (Geographic Displays)","title":"Rules (line segments) connecting SEA to every airport reachable via direct flight","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nairports = dataset(\"airports\")\nflightsairport = dataset(\"flights-airport\")\n\n@vlplot(width=800, height=500) +\n@vlplot(\n    mark={\n        :geoshape,\n        fill=:lightgray,\n        stroke=:white\n    },\n    data={\n        values=us10m,\n        format={\n            type=:topojson,\n            feature=:states\n        }\n    },\n    projection={type=:albersUsa}\n) +\n@vlplot(\n    :circle,\n    data=airports,\n    projection={type=:albersUsa},\n    longitude=\"longitude:q\",\n    latitude=\"latitude:q\",\n    size={value=5},\n    color={value=:gray}\n) +\n@vlplot(\n    :rule,\n    data=flightsairport,\n    transform=[\n        {filter={field=:origin,equal=:SEA}},\n        {\n            lookup=:origin,\n            from={\n                data=airports,\n                key=:iata,\n                fields=[\"latitude\", \"longitude\"]\n            },\n            as=[\"origin_latitude\", \"origin_longitude\"]\n        },\n        {\n            lookup=:destination,\n            from={\n                data=airports,\n                key=:iata,\n                fields=[\"latitude\", \"longitude\"]\n            },\n            as=[\"dest_latitude\", \"dest_longitude\"]\n        }\n    ],\n    projection={type=:albersUsa},\n    longitude=\"origin_longitude:q\",\n    latitude=\"origin_latitude:q\",\n    longitude2=\"dest_longitude:q\",\n    latitude2=\"dest_latitude:q\"\n)","category":"page"},{"location":"examples/examples_maps/#Three-choropleths-representing-disjoint-data-from-the-same-table-1","page":"Maps (Geographic Displays)","title":"Three choropleths representing disjoint data from the same table","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nrows = dataset(\"population_engineers_hurricanes\")\n\n@vlplot(\n    description=\"the population per state, engineers per state, and hurricanes per state\",\n    repeat={\n        row=[\"population\", \"engineers\", \"hurricanes\"]\n    },\n    resolve={\n        scale={\n            color=:independent\n        }\n    }\n) +\n@vlplot(\n    width=500,\n    height=300,\n    data=rows,\n    transform=[{\n        lookup=:id,\n        from={\n            data={\n                values=us10m,\n                format={\n                    type=:topojson,\n                    feature=:states\n                }\n            },\n            key=:id\n        },\n        as=:geo\n    }],\n    projection={type=:albersUsa},\n    mark=:geoshape,\n    shape={\n        field=:geo,\n        type=:geojson\n    },\n    color={\n        field={repeat=:row},\n        type=:quantitative\n    }\n)","category":"page"},{"location":"examples/examples_maps/#U.S.-state-capitals-overlayed-on-a-map-of-the-U.S-1","page":"Maps (Geographic Displays)","title":"U.S. state capitals overlayed on a map of the U.S","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\ncapitals = dataset(\"us-state-capitals\")\n\n@vlplot(width=800, height=500) +\n@vlplot(\n    mark={\n        :geoshape,\n        fill=:lightgray,\n        stroke=:white\n    },\n    data={\n        values=us10m,\n        format={\n            type=:topojson,\n            feature=:states\n        }\n    },\n    projection={type=:albersUsa},\n) +\n@vlplot(\n    :circle,\n    data=capitals,\n    longitude=\"lon:q\",\n    latitude=\"lat:q\",\n    color={value=:orange}\n) +\n@vlplot(\n    mark={\n        type=:text,\n        dy=-10\n    },\n    data=capitals,\n    longitude=\"lon:q\",\n    latitude=\"lat:q\",\n    text={\n        field=:city,\n        type=:nominal\n    }\n)","category":"page"},{"location":"examples/examples_maps/#Line-drawn-between-airports-in-the-U.S.-simulating-a-flight-itinerary-1","page":"Maps (Geographic Displays)","title":"Line drawn between airports in the U.S. simulating a flight itinerary","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nairports = dataset(\"airports\")\n\n@vlplot(width=800, height=500) +\n@vlplot(\n    mark={\n        :geoshape,\n        fill=\"#eee\",\n        stroke=:white\n    },\n    data={\n        values=us10m,\n        format={\n            type=:topojson,\n            feature=:states\n        }\n    },\n    projection={type=:albersUsa},\n) +\n@vlplot(\n    :circle,\n    data=airports,\n    projection={type=:albersUsa},\n    longitude=\"longitude:q\",\n    latitude=\"latitude:q\",\n    size={value=5},\n    color={value=:gray}\n) +\n@vlplot(\n    :line,\n    data={\n        values=[\n            {airport=:SEA,order=1},\n            {airport=:SFO,order=2},\n            {airport=:LAX,order=3},\n            {airport=:LAS,order=4},\n            {airport=:DFW,order=5},\n            {airport=:DEN,order=6},\n            {airport=:ORD,order=7},\n            {airport=:JFK,order=8}\n        ]\n    },\n    transform=[{\n        lookup=:airport,\n        from={\n            data=airports,\n            key=:iata,\n            fields=[\"latitude\",\"longitude\"]\n        }\n    }],\n    projection={type=:albersUsa},\n    longitude=\"longitude:q\",\n    latitude=\"latitude:q\",\n    order={field=:order,type=:ordinal}\n)","category":"page"},{"location":"examples/examples_maps/#Income-in-the-U.S.-by-state,-faceted-over-income-brackets-1","page":"Maps (Geographic Displays)","title":"Income in the U.S. by state, faceted over income brackets","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nus10m = dataset(\"us-10m\")\nincome = dataset(\"income\")\n\n@vlplot(\n    width=500, \n    height=300,\n    :geoshape,\n    data=income,\n    transform=[{\n        lookup=:id,\n        from={\n            data={\n                values=us10m,\n                format={\n                    type=:topojson,\n                    feature=:states\n                }\n            },\n            key=:id\n        },\n        as=:geo\n    }],\n    projection={type=:albersUsa},\n    encoding={\n        shape={field=:geo,type=:geojson},\n        color={field=:pct,type=:quantitative},\n        row={field=:group,type=:nominal}\n    }\n)","category":"page"},{"location":"examples/examples_maps/#London-Tube-Lines-1","page":"Maps (Geographic Displays)","title":"London Tube Lines","text":"","category":"section"},{"location":"examples/examples_maps/#","page":"Maps (Geographic Displays)","title":"Maps (Geographic Displays)","text":"using VegaLite, VegaDatasets\n\nlondonBoroughs = dataset(\"londonBoroughs\")\nlondonCentroids = dataset(\"londonCentroids\")\nlondonTubeLines = dataset(\"londonTubeLines\")\n\n@vlplot(\n    width=700, height=500,\n    config={\n        view={\n            stroke=:transparent\n        }\n    }\n) +\n@vlplot(\n    data={\n        values=londonBoroughs,\n        format={\n            type=:topojson,\n            feature=:boroughs\n        }\n    },\n    mark={\n        :geoshape,\n        stroke=:white,\n        strokeWidth=2\n    },\n    color={value=\"#eee\"}\n) +\n@vlplot(\n    data=londonCentroids,\n    transform=[{\n        calculate=\"indexof (datum.name,' ') > 0  ? substring(datum.name,0,indexof(datum.name, ' ')) : datum.name\",\n        as=:bLabel\n    }],\n    mark=:text,\n    longitude=\"cx:q\",\n    latitude=\"cy:q\",\n    text=\"bLabel:n\",\n    size={value=8},\n    opacity={value=0.6}\n) +\n@vlplot(\n    data={\n        values=londonTubeLines,\n        format={\n            type=:topojson,\n            feature=:line\n        }\n    },\n    mark={\n        :geoshape,\n        filled=false,\n        strokeWidth=2\n    },\n    color={\n        \"id:n\",\n        legend={\n            title=nothing,\n            orient=\"bottom-right\",\n            offset=0\n        },\n        scale={\n            domain=[\n                \"Bakerloo\",\n                \"Central\",\n                \"Circle\",\n                \"District\",\n                \"DLR\",\n                \"Hammersmith & City\",\n                \"Jubilee\",\n                \"Metropolitan\",\n                \"Northern\",\n                \"Piccadilly\",\n                \"Victoria\",\n                \"Waterloo & City\"\n            ],\n            range=[\n                \"rgb(137,78,36)\",\n                \"rgb(220,36,30)\",\n                \"rgb(255,206,0)\",\n                \"rgb(1,114,41)\",\n                \"rgb(0,175,173)\",\n                \"rgb(215,153,175)\",\n                \"rgb(106,114,120)\",\n                \"rgb(114,17,84)\",\n                \"rgb(0,0,0)\",\n                \"rgb(0,24,168)\",\n                \"rgb(0,160,226)\",\n                \"rgb(106,187,170)\"\n            ]\n        }\n    }\n)","category":"page"},{"location":"userguide/vlplotmacro/#The-@vlplot-command-1","page":"The @vlplot command","title":"The @vlplot command","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The @vlplot macro is the main method to create Vega-Lite plots from Julia. The macro accepts arguments that look almost identical to the original Vega-Lite JSON syntax. It should therefore be very easy to take any given Vega-Lite JSON example and translate it into a corresponding @vlplot macro call. The macro also provides a number of shorthands that make it easy to create very compact plot specifications. This section will first review the difference between the original JSON Vega-Lite syntax and the @vlplot macro, and then discuss the various shorthands that users will typically use.","category":"page"},{"location":"userguide/vlplotmacro/#JSON-syntax-vs-@vlplot-macro-1","page":"The @vlplot command","title":"JSON syntax vs @vlplot macro","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"A very simple Vega-Lite JSON specification looks like this:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"{\n  \"data\": {\n    \"values\": [\n      {\"a\": \"A\",\"b\": 28}, {\"a\": \"B\",\"b\": 55}, {\"a\": \"C\",\"b\": 43},\n      {\"a\": \"D\",\"b\": 91}, {\"a\": \"E\",\"b\": 81}, {\"a\": \"F\",\"b\": 53},\n      {\"a\": \"G\",\"b\": 19}, {\"a\": \"H\",\"b\": 87}, {\"a\": \"I\",\"b\": 52}\n    ]\n  },\n  \"mark\": \"bar\",\n  \"encoding\": {\n    \"x\": {\"field\": \"a\", \"type\": \"ordinal\"},\n    \"y\": {\"field\": \"b\", \"type\": \"quantitative\"}\n  }\n}","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"This can be directly translated into the following @vlplot macro call:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"using VegaLite\n\n@vlplot(\n    data={\n        values=[\n            {a=\"A\",b=28},{a=\"B\",b=55},{a=\"C\",b=43},\n            {a=\"D\",b=91},{a=\"E\",b=81},{a=\"F\",b=53},\n            {a=\"G\",b=19},{a=\"H\",b=87},{a=\"I\",b=52}\n        ]\n    },\n    mark=\"bar\",\n    encoding={\n        x={field=\"a\", type=\"ordinal\"},\n        y={field=\"b\", type=\"quantitative\"}\n    }\n)","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"We had to make the following adjustments to the original JSON specification:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The outer pair of {} brackets was removed, the parenthesis () of the macro call instead deliminate the beginning and end of the specification.\nThe quotation marks \" around keys like mark are removed.\nThe JSON key-value separator : was replaced with =.\nAny null value in the JSON specification should be replaced with nothing in the @vlplot call.","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"These four rules should be sufficient to translate any valid JSON Vega-Lite specification into a corresponding @vlplot macro call.","category":"page"},{"location":"userguide/vlplotmacro/#Symbols-instead-of-Strings-1","page":"The @vlplot command","title":"Symbols instead of Strings","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"A first shorthand provided by the @vlplot macro is that you can use a Symbol on the right hand side of any key-value pair instead of a String. For example, instead of writing mark=\"bar\", you can write mark=:bar.","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The following example demonstrates this in the context of a full plotting example:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |>\n@vlplot(\n    mark=:point, # Note how we use :point instead of \"point\" here\n    encoding={\n        x={\n            field=:a, # Note how we use :a instead of \"a\" here\n            type=:ordinal # Note how we use :ordinal instead of \"ordinal\" here\n        },\n        y={\n            field=:b, # Note how we use :b instead of \"b\" here\n            type=:quantitative # Note how we use :quantitative instead of \"quantitative\" here\n        }\n    }\n)","category":"page"},{"location":"userguide/vlplotmacro/#Shorthand-string-syntax-for-encodings-1","page":"The @vlplot command","title":"Shorthand string syntax for encodings","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"VegaLite.jl provides a similar string shorthand syntax for encodings as Altair (the Python wrapper around Vega-Lite).","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"Almost any channel encoding in a specification will have the keys field and type, as in x={field=:a, type=:ordinal}. Because these patterns are so common, we provide a shorthand string syntax for this case. Using the shorthand one can write the channel encoding as x={\"a:o\"}. These string shorthands have to appear as the first positional argument inside the curly brackets {} for the encoding channel. The pattern inside the string is that one specifies the name of the field before the :, and then the first letter of the type of encoding (o for ordinal, q for quantitative etc.).","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The string shorthand also extends to the timeUnit and aggregate key in encodings. Aggregation functions and time units can be specified using a function call syntax inside the string shorthand. For example, x={\"mean(foo)\"} is equivalent to x={field=:foo, aggregate=:mean, type=:quantitative} (note that we don't have to specify the type explicitly when we use aggregations, the default assumption is that the result of an aggregation is quantitative). An example that uses the shorthand for a time unit is x={\"year(foo):t\"}, which is equivalent to x={field=:foo, timeUnit=:year, type=:quantitative}. For aggregations that don't require a field name (e.g. the count aggregation), you can just write x=\"count()\".","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"String shorthands can be combined with any other attributes. For example, the following example shows how one can specify an axis title and still use the string shorthand notation:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"x={\"foo:q\", axis={title=\"some title\"}}","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"In cases where you don't want to specify any other attributes than what can be expressed in the string shorthand you don't have to use the surrounding curly brackets {} for the encoding: x=\"foo:q\" is equivalent to x={field=:foo, type=:quantitative}. If you only want to specify the field and not even the type, you can resort to using a Symbol: x=:foo is also a valid encoding.","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The shorthand string syntax allows us to write the specification of the plot from the previous section in this much more concise format:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |>\n@vlplot(\n    mark=:point,\n    encoding={\n        x=\"a:o\",\n        y=:b\n    }\n)","category":"page"},{"location":"userguide/vlplotmacro/#Shorthands-for-the-encoding-element-1","page":"The @vlplot command","title":"Shorthands for the encoding element","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"There are two shorthands for the encoding element in a plot specification.","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"The first is to simply write enc instead of encoding. For example, the previous specification can be written as","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |>\n@vlplot(\n    mark=:point,\n    enc={\n        x=\"a:o\",\n        y=:b\n    }\n)","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"An even shorter notation is to just leave the level of the encoding element away and place the channel encodings directly into the top level specification. With that option you would write the previous example as:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |>\n@vlplot(mark=:point, x=\"a:o\", y=:b)","category":"page"},{"location":"userguide/vlplotmacro/#Mark-shorthands-1","page":"The @vlplot command","title":"Mark shorthands","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"There are two shorthands for the mark attribute in a specification. The first option is to use the first positional argument in a @vlplot call to specify the mark type. This only works if you don't want to specify any other mark attributes. For example, the previous plot can now be written as","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |> @vlplot(:point, x=\"a:o\", y=:b)","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"If you want to specify more mark attributes, you can reintroduce curly brackets {}, and then specify the type of the mark as the first positional argument inside the mark block. For example, the following code specifies that the mark color should be red, in addition to picking points as the mark type:","category":"page"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"data |>\n@vlplot(\n    mark={:point, color=:red},\n    x=\"a:o\",\n    y=:b\n)","category":"page"},{"location":"userguide/vlplotmacro/#x-and-y-encoding-channel-as-positional-arguments-1","page":"The @vlplot command","title":"x and y encoding channel as positional arguments","text":"","category":"section"},{"location":"userguide/vlplotmacro/#","page":"The @vlplot command","title":"The @vlplot command","text":"For the x and y encoding channel only, you can specify their values as the second and third positional element at the root level of the @vlplot call instead of using named arguments. In particular, you can write @vlplot(:point, :colA, :colB) instead of @vlplot(:point, x=:colA, y=:colB) or @vlplot(:point, :colA) instead of @vlplot(:point, x=:colA).","category":"page"},{"location":"examples/examples_table_based_plots/#Table-based-Plots-1","page":"Table-based Plots","title":"Table-based Plots","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#Table-Heatmap-1","page":"Table-based Plots","title":"Table Heatmap","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(:rect, y=:Origin, x=\"Cylinders:o\", color=\"mean(Horsepower)\")","category":"page"},{"location":"examples/examples_table_based_plots/#Table-Binned-heatmap-1","page":"Table-based Plots","title":"Table Binned heatmap","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(\n    :rect,\n    width=300, height=200,\n    x={:IMDB_Rating, bin={maxbins=60}},\n    y={:Rotten_Tomatoes_Rating, bin={maxbins=40}},\n    color=\"count()\",\n    config={\n        range={\n            heatmap={\n                scheme=\"greenblue\"\n            }\n        },\n        view={\n            stroke=\"transparent\"\n        }\n    }\n)","category":"page"},{"location":"examples/examples_table_based_plots/#Table-Bubble-Plot-(Github-Punch-Card)-1","page":"Table-based Plots","title":"Table Bubble Plot (Github Punch Card)","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"github\") |>\n@vlplot(\n    :circle,\n    y=\"day(time):o\",\n    x=\"hours(time):o\",\n    size=\"sum(count)\"\n)","category":"page"},{"location":"examples/examples_table_based_plots/#Layering-text-over-heatmap-1","page":"Table-based Plots","title":"Layering text over heatmap","text":"","category":"section"},{"location":"examples/examples_table_based_plots/#","page":"Table-based Plots","title":"Table-based Plots","text":"using VegaLite, VegaDatasets\n\ncars = dataset(\"cars\")\n\n@vlplot(\n    data=cars,\n    y=\"Origin:o\",\n    x=\"Cylinders:o\",\n    config={\n        scale={bandPaddingInner=0, bandPaddingOuter=0},\n        text={baseline=:middle}\n    }\n) +\n@vlplot(:rect, color=\"count()\") +\n@vlplot(\n    :text,\n    text=\"count()\",\n    color={\n        condition={\n            test=\"datum['count_*'] > 100\",\n            value=:black\n        },\n        value=:white\n    }\n)","category":"page"},{"location":"examples/examples_faceting/#Faceting-(Trellis-Plot-/-Small-Multiples)-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"","category":"section"},{"location":"examples/examples_faceting/#Trellis-Bar-Chart-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Bar Chart","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    :bar,\n    transform=[\n        {filter=\"datum.year==2000\"},\n        {calculate=\"datum.sex==2 ? 'Female' : 'Male'\",as=:gender}\n    ],\n    row=\"gender:n\",\n    y={\"sum(people)\", axis={title=\"population\"}},\n    x=\"age:o\",\n    color={\"gender:n\", scale={range=[\"#EA98D2\", \"#659CCA\"]}},\n    width={step=17}\n)","category":"page"},{"location":"examples/examples_faceting/#Trellis-Stacked-Bar-Chart-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Stacked Bar Chart","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(:bar, column=\"year:o\", x=\"sum(yield)\", y=:variety, color=:site)","category":"page"},{"location":"examples/examples_faceting/#Trellis-Scatter-Plot-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Scatter Plot","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"movies\") |>\n@vlplot(:point, columns=2, wrap=\"MPAA_Rating:o\", x=:Worldwide_Gross, y=:US_DVD_Sales)","category":"page"},{"location":"examples/examples_faceting/#Trellis-Histograms-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Histograms","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(\n    :bar,\n    x={\n        :Horsepower,\n        bin={maxbins=15}\n    },\n    y=\"count()\",\n    row=:Origin\n)","category":"page"},{"location":"examples/examples_faceting/#Trellis-Scatter-Plot-showing-Anscombe's-Quartet-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Scatter Plot showing Anscombe's Quartet","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"anscombe\") |>\n@vlplot(\n    :circle,\n    column=:Series,\n    x={:X, scale={zero=false}},\n    y={:Y, scale={zero=false}},\n    opacity={value=1}\n)","category":"page"},{"location":"examples/examples_faceting/#Becker's-Barley-Trellis-Plot-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Becker's Barley Trellis Plot","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(\n    :point,\n    columns=2,\n    height={step=12},\n    wrap={\"site:o\", sort={op=:median, field=:yield}},\n    x={\"median(yield)\", scale={zero=false}},\n    y={\n        \"variety:o\",\n        sort=\"-x\"\n    },\n    color=:year\n)","category":"page"},{"location":"examples/examples_faceting/#Trellis-Area-1","page":"Faceting (Trellis Plot / Small Multiples)","title":"Trellis Area","text":"","category":"section"},{"location":"examples/examples_faceting/#","page":"Faceting (Trellis Plot / Small Multiples)","title":"Faceting (Trellis Plot / Small Multiples)","text":"using VegaLite, VegaDatasets\n\ndataset(\"stocks\") |>\n@vlplot(\n    :area,\n    width=300,height=40,\n    transform=[{filter=\"datum.symbol !== 'GOOG'\"}],\n    x={\n        \"date:t\",\n        axis={title=\"Time\",grid=false}\n    },\n    y={\n        :price,\n        axis={title=\"Price\",grid=false}\n    },\n    color={\n        :symbol,\n        legend=nothing\n    },\n    row={\n        :symbol,\n        header={title=\"Symbol\"}\n    }\n)","category":"page"},{"location":"examples/examples_error_bars_bands/#Error-Bars-and-Error-Bands-1","page":"Error Bars & Error Bands","title":"Error Bars & Error Bands","text":"","category":"section"},{"location":"examples/examples_error_bars_bands/#Error-Bars-showing-Confidence-Interval-1","page":"Error Bars & Error Bands","title":"Error Bars showing Confidence Interval","text":"","category":"section"},{"location":"examples/examples_error_bars_bands/#","page":"Error Bars & Error Bands","title":"Error Bars & Error Bands","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(y=\"variety:o\") +\n@vlplot(\n    mark={\n        :point,\n        filled=true\n    },\n    x={\n        \"mean(yield)\",\n        scale={zero=false},\n        title=\"Barley Yield\"\n    },\n    color={value=:black}\n) +\n@vlplot(\n    mark={\n        :errorbar,\n        extent=:ci\n     },\n     x={:yield, title=\"Barley Yield\"}\n)","category":"page"},{"location":"examples/examples_error_bars_bands/#Error-Bars-showing-Standard-Deviation-1","page":"Error Bars & Error Bands","title":"Error Bars showing Standard Deviation","text":"","category":"section"},{"location":"examples/examples_error_bars_bands/#","page":"Error Bars & Error Bands","title":"Error Bars & Error Bands","text":"using VegaLite, VegaDatasets\n\ndataset(\"barley\") |>\n@vlplot(\n    y=\"variety:o\"\n) +\n@vlplot(\n    mark={\n        :point,\n        filled=true\n    },\n    x={\n        \"mean(yield)\",\n        scale={zero=false},\n        title=\"Barley Yield\"\n    },\n    color={value=:black}\n) +\n@vlplot(\n    mark={:rule, extend=:stdev},\n    x={:yield, title=\"Barley Yield\"}\n)","category":"page"},{"location":"examples/examples_error_bars_bands/#Line-Chart-with-Confidence-Interval-Band-1","page":"Error Bars & Error Bands","title":"Line Chart with Confidence Interval Band","text":"","category":"section"},{"location":"examples/examples_error_bars_bands/#","page":"Error Bars & Error Bands","title":"Error Bars & Error Bands","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(x=\"year(Year)\") +\n@vlplot(\n    mark={:errorband, extent=:ci},\n    y={\n        :Miles_per_Gallon,\n        title=\"Mean of Miles per Gallon (95% CIs)\"\n    }\n) +\n@vlplot(\n    :line,\n    y=\"mean(Miles_per_Gallon)\"\n)","category":"page"},{"location":"examples/examples_error_bars_bands/#Scatterplot-with-Mean-and-Standard-Deviation-Overlay-1","page":"Error Bars & Error Bands","title":"Scatterplot with Mean and Standard Deviation Overlay","text":"","category":"section"},{"location":"examples/examples_error_bars_bands/#","page":"Error Bars & Error Bands","title":"Error Bars & Error Bands","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot() +\n@vlplot(\n    :point,\n    x=:Horsepower,\n    y=:Miles_per_Gallon\n) +\n@vlplot(:rule,y=\"mean(Miles_per_Gallon)\") +\n@vlplot(\n    mark={:errorband, extent=:stdev, opacity=0.2},\n    y={:Miles_per_Gallon, title=\"Miles per Gallon\"}\n)","category":"page"},{"location":"referencemanual/output/#Output-1","page":"Outputs","title":"Output","text":"","category":"section"},{"location":"referencemanual/output/#Saving-to-a-file-1","page":"Outputs","title":"Saving to a file","text":"","category":"section"},{"location":"referencemanual/output/#","page":"Outputs","title":"Outputs","text":"Use the save (reexported from VegaLite.jl) function from the FileIO.jl package to save plots.","category":"page"},{"location":"referencemanual/output/#","page":"Outputs","title":"Outputs","text":"For example, to save a plot named p, you can use the following type of code:","category":"page"},{"location":"referencemanual/output/#","page":"Outputs","title":"Outputs","text":"p |> save(\"figure.png\")\np |> save(\"figure.svg\")\np |> save(\"figure.pdf\")\np |> save(\"figure.eps\")\np |> save(\"figure.vegalite\")","category":"page"},{"location":"examples/examples_vega_bar_charts/#Bar-Charts-1","page":"Bar Charts","title":"Bar Charts","text":"","category":"section"},{"location":"examples/examples_vega_bar_charts/#Bar-Chart-1","page":"Bar Charts","title":"Bar Chart","text":"","category":"section"},{"location":"examples/examples_vega_bar_charts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite\n\n@vgplot(\n    height=200,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    fill={\n                        value=\"steelblue\"\n                    }\n                },\n                hover={\n                    fill={\n                        value=\"red\"\n                    }\n                },\n                enter={\n                    x={\n                        field=\"category\",\n                        scale=\"xscale\"\n                    },\n                    y2={\n                        value=0,\n                        scale=\"yscale\"\n                    },\n                    width={\n                        scale=\"xscale\",\n                        band=1\n                    },\n                    y={\n                        field=\"amount\",\n                        scale=\"yscale\"\n                    }\n                }\n            },\n            from={\n                data=\"table\"\n            },\n            type=\"rect\"\n        },\n        {\n            encode={\n                update={\n                    x={\n                        signal=\"tooltip.category\",\n                        scale=\"xscale\",\n                        band=0.5\n                    },\n                    fillOpacity=[\n                        {\n                            test=\"datum === tooltip\",\n                            value=0\n                        },\n                        {\n                            value=1\n                        }\n                    ],\n                    text={\n                        signal=\"tooltip.amount\"\n                    },\n                    y={\n                        offset=-2,\n                        signal=\"tooltip.amount\",\n                        scale=\"yscale\"\n                    }\n                },\n                enter={\n                    fill={\n                        value=\"#333\"\n                    },\n                    baseline={\n                        value=\"bottom\"\n                    },\n                    align={\n                        value=\"center\"\n                    }\n                }\n            },\n            type=\"text\"\n        }\n    ],\n    axes=[\n        {\n            scale=\"xscale\",\n            orient=\"bottom\"\n        },\n        {\n            scale=\"yscale\",\n            orient=\"left\"\n        }\n    ],\n    data=[\n        {\n            name=\"table\",\n            values=[\n                {\n                    amount=28,\n                    category=\"A\"\n                },\n                {\n                    amount=55,\n                    category=\"B\"\n                },\n                {\n                    amount=43,\n                    category=\"C\"\n                },\n                {\n                    amount=91,\n                    category=\"D\"\n                },\n                {\n                    amount=81,\n                    category=\"E\"\n                },\n                {\n                    amount=53,\n                    category=\"F\"\n                },\n                {\n                    amount=19,\n                    category=\"G\"\n                },\n                {\n                    amount=87,\n                    category=\"H\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"xscale\",\n            padding=0.05,\n            range=\"width\",\n            domain={\n                data=\"table\",\n                field=\"category\"\n            },\n            type=\"band\",\n            round=true\n        },\n        {\n            name=\"yscale\",\n            nice=true,\n            range=\"height\",\n            domain={\n                data=\"table\",\n                field=\"amount\"\n            }\n        }\n    ],\n    width=400,\n    signals=[\n        {\n            name=\"tooltip\",\n            on=[\n                {\n                    events=\"rect:mouseover\",\n                    update=\"datum\"\n                },\n                {\n                    events=\"rect:mouseout\",\n                    update=\"{}\"\n                }\n            ],\n            value={\n\n            }\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_bar_charts/#Stacked-Bar-Chart-1","page":"Bar Charts","title":"Stacked Bar Chart","text":"","category":"section"},{"location":"examples/examples_vega_bar_charts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite\n\n@vgplot(    \n    height=200,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    fillOpacity={\n                        value=1\n                    }\n                },\n                hover={\n                    fillOpacity={\n                        value=0.5\n                    }\n                },\n                enter={\n                    x={\n                        field=\"x\",\n                        scale=\"x\"\n                    },\n                    y2={\n                        field=\"y1\",\n                        scale=\"y\"\n                    },\n                    width={\n                        offset=-1,\n                        scale=\"x\",\n                        band=1\n                    },\n                    fill={\n                        field=\"c\",\n                        scale=\"color\"\n                    },\n                    y={\n                        field=\"y0\",\n                        scale=\"y\"\n                    }\n                }\n            },\n            from={\n                data=\"table\"\n            },\n            type=\"rect\"\n        }\n    ],\n    axes=[\n        {\n            zindex=1,\n            scale=\"x\",\n            orient=\"bottom\"\n        },\n        {\n            zindex=1,\n            scale=\"y\",\n            orient=\"left\"\n        }\n    ],\n    data=[\n        {\n            name=\"table\",\n            values=[\n                {\n                    c=0,\n                    x=0,\n                    y=28\n                },\n                {\n                    c=1,\n                    x=0,\n                    y=55\n                },\n                {\n                    c=0,\n                    x=1,\n                    y=43\n                },\n                {\n                    c=1,\n                    x=1,\n                    y=91\n                },\n                {\n                    c=0,\n                    x=2,\n                    y=81\n                },\n                {\n                    c=1,\n                    x=2,\n                    y=53\n                },\n                {\n                    c=0,\n                    x=3,\n                    y=19\n                },\n                {\n                    c=1,\n                    x=3,\n                    y=87\n                },\n                {\n                    c=0,\n                    x=4,\n                    y=52\n                },\n                {\n                    c=1,\n                    x=4,\n                    y=48\n                },\n                {\n                    c=0,\n                    x=5,\n                    y=24\n                },\n                {\n                    c=1,\n                    x=5,\n                    y=49\n                },\n                {\n                    c=0,\n                    x=6,\n                    y=87\n                },\n                {\n                    c=1,\n                    x=6,\n                    y=66\n                },\n                {\n                    c=0,\n                    x=7,\n                    y=17\n                },\n                {\n                    c=1,\n                    x=7,\n                    y=27\n                },\n                {\n                    c=0,\n                    x=8,\n                    y=68\n                },\n                {\n                    c=1,\n                    x=8,\n                    y=16\n                },\n                {\n                    c=0,\n                    x=9,\n                    y=49\n                },\n                {\n                    c=1,\n                    x=9,\n                    y=15\n                }\n            ],\n            transform=[\n                {\n                    sort={\n                        field=\"c\"\n                    },\n                    field=\"y\",\n                    groupby=[\n                        \"x\"\n                    ],\n                    type=\"stack\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"x\",\n            range=\"width\",\n            domain={\n                data=\"table\",\n                field=\"x\"\n            },\n            type=\"band\"\n        },\n        {\n            name=\"y\",\n            nice=true,\n            zero=true,\n            range=\"height\",\n            domain={\n                data=\"table\",\n                field=\"y1\"\n            },\n            type=\"linear\"\n        },\n        {\n            name=\"color\",\n            range=\"category\",\n            domain={\n                data=\"table\",\n                field=\"c\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=500\n)","category":"page"},{"location":"examples/examples_vega_bar_charts/#Grouped-Bar-Chart-1","page":"Bar Charts","title":"Grouped Bar Chart","text":"","category":"section"},{"location":"examples/examples_vega_bar_charts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite\n\n@vgplot(\n    height=240,\n    padding=5,\n    marks=[\n        {\n            marks=[\n                {\n                    name=\"bars\",\n                    encode={\n                        enter={\n                            height={\n                                scale=\"pos\",\n                                band=1\n                            },\n                            x2={\n                                value=0,\n                                scale=\"xscale\"\n                            },\n                            x={\n                                field=\"value\",\n                                scale=\"xscale\"\n                            },\n                            fill={\n                                field=\"position\",\n                                scale=\"color\"\n                            },\n                            y={\n                                field=\"position\",\n                                scale=\"pos\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"facet\"\n                    },\n                    type=\"rect\"\n                },\n                {\n                    encode={\n                        enter={\n                            align={\n                                value=\"right\"\n                            },\n                            x={\n                                offset=-5,\n                                field=\"x2\"\n                            },\n                            fill=[\n                                {\n                                    test=\"contrast('white', datum.fill) > contrast('black', datum.fill)\",\n                                    value=\"white\"\n                                },\n                                {\n                                    value=\"black\"\n                                }\n                            ],\n                            baseline={\n                                value=\"middle\"\n                            },\n                            text={\n                                field=\"datum.value\"\n                            },\n                            y={\n                                offset={\n                                    mult=0.5,\n                                    field=\"height\"\n                                },\n                                field=\"y\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"bars\"\n                    },\n                    type=\"text\"\n                }\n            ],\n            encode={\n                enter={\n                    y={\n                        field=\"category\",\n                        scale=\"yscale\"\n                    }\n                }\n            },\n            scales=[\n                {\n                    name=\"pos\",\n                    range=\"height\",\n                    domain={\n                        data=\"facet\",\n                        field=\"position\"\n                    },\n                    type=\"band\"\n                }\n            ],\n            signals=[\n                {\n                    name=\"height\",\n                    update=\"bandwidth('yscale')\"\n                }\n            ],\n            from={\n                facet={\n                    name=\"facet\",\n                    data=\"table\",\n                    groupby=\"category\"\n                }\n            },\n            type=\"group\"\n        }\n    ],\n    axes=[\n        {\n            labelPadding=4,\n            zindex=1,\n            scale=\"yscale\",\n            orient=\"left\",\n            tickSize=0\n        },\n        {\n            scale=\"xscale\",\n            orient=\"bottom\"\n        }\n    ],\n    data=[\n        {\n            name=\"table\",\n            values=[\n                {\n                    position=0,\n                    value=0.1,\n                    category=\"A\"\n                },\n                {\n                    position=1,\n                    value=0.6,\n                    category=\"A\"\n                },\n                {\n                    position=2,\n                    value=0.9,\n                    category=\"A\"\n                },\n                {\n                    position=3,\n                    value=0.4,\n                    category=\"A\"\n                },\n                {\n                    position=0,\n                    value=0.7,\n                    category=\"B\"\n                },\n                {\n                    position=1,\n                    value=0.2,\n                    category=\"B\"\n                },\n                {\n                    position=2,\n                    value=1.1,\n                    category=\"B\"\n                },\n                {\n                    position=3,\n                    value=0.8,\n                    category=\"B\"\n                },\n                {\n                    position=0,\n                    value=0.6,\n                    category=\"C\"\n                },\n                {\n                    position=1,\n                    value=0.1,\n                    category=\"C\"\n                },\n                {\n                    position=2,\n                    value=0.2,\n                    category=\"C\"\n                },\n                {\n                    position=3,\n                    value=0.7,\n                    category=\"C\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"yscale\",\n            padding=0.2,\n            range=\"height\",\n            domain={\n                data=\"table\",\n                field=\"category\"\n            },\n            type=\"band\"\n        },\n        {\n            name=\"xscale\",\n            zero=true,\n            nice=true,\n            range=\"width\",\n            domain={\n                data=\"table\",\n                field=\"value\"\n            },\n            type=\"linear\",\n            round=true\n        },\n        {\n            name=\"color\",\n            range={\n                scheme=\"category20\"\n            },\n            domain={\n                data=\"table\",\n                field=\"position\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=300\n)","category":"page"},{"location":"examples/examples_vega_bar_charts/#Nested-Bar-Chart-1","page":"Bar Charts","title":"Nested Bar Chart","text":"","category":"section"},{"location":"examples/examples_vega_bar_charts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite\n\n@vgplot(\n    padding=5,\n    marks=[\n        {\n            marks=[\n                {\n                    encode={\n                        update={\n                            height={\n                                scale=\"yscale\",\n                                band=1\n                            },\n                            stroke={\n                                value=nothing\n                            },\n                            zindex={\n                                value=0\n                            },\n                            y={\n                                field=\"b\",\n                                scale=\"yscale\"\n                            }\n                        },\n                        hover={\n                            stroke={\n                                value=\"firebrick\"\n                            },\n                            zindex={\n                                value=1\n                            }\n                        },\n                        enter={\n                            x2={\n                                field=\"c\",\n                                scale=\"xscale\"\n                            },\n                            x={\n                                value=0\n                            },\n                            strokeWidth={\n                                value=2\n                            },\n                            fill={\n                                field=\"a\",\n                                scale=\"color\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"faceted_tuples\"\n                    },\n                    type=\"rect\"\n                }\n            ],\n            encode={\n                update={\n                    y2={\n                        field=\"y1\"\n                    },\n                    y={\n                        field=\"y0\"\n                    }\n                },\n                enter={\n                    x={\n                        value=0\n                    },\n                    width={\n                        signal=\"width\"\n                    }\n                }\n            },\n            axes=[\n                {\n                    domain=false,\n                    labelPadding=4,\n                    scale=\"yscale\",\n                    orient=\"left\",\n                    ticks=false\n                }\n            ],\n            scales=[\n                {\n                    name=\"yscale\",\n                    paddingOuter={\n                        signal=\"outerPadding\"\n                    },\n                    paddingInner={\n                        signal=\"innerPadding\"\n                    },\n                    domain={\n                        data=\"faceted_tuples\",\n                        field=\"b\"\n                    },\n                    range={\n                        step={\n                            signal=\"rangeStep\"\n                        }\n                    },\n                    type=\"band\",\n                    round=true\n                }\n            ],\n            from={\n                data=\"trellis\",\n                facet={\n                    name=\"faceted_tuples\",\n                    data=\"tuples\",\n                    groupby=\"a\"\n                }\n            },\n            type=\"group\"\n        }\n    ],\n    axes=[\n        {\n            domain=true,\n            scale=\"xscale\",\n            orient=\"bottom\"\n        }\n    ],\n    data=[\n        {\n            name=\"tuples\",\n            values=[\n                {\n                    c=6.3,\n                    b=\"a\",\n                    a=0\n                },\n                {\n                    c=4.2,\n                    b=\"a\",\n                    a=0\n                },\n                {\n                    c=6.8,\n                    b=\"b\",\n                    a=0\n                },\n                {\n                    c=5.1,\n                    b=\"c\",\n                    a=0\n                },\n                {\n                    c=4.4,\n                    b=\"b\",\n                    a=1\n                },\n                {\n                    c=3.5,\n                    b=\"b\",\n                    a=2\n                },\n                {\n                    c=6.2,\n                    b=\"c\",\n                    a=2\n                }\n            ],\n            transform=[\n                {\n                    fields=[\n                        \"c\"\n                    ],\n                    ops=[\n                        \"average\"\n                    ],\n                    as=[\n                        \"c\"\n                    ],\n                    groupby=[\n                        \"a\",\n                        \"b\"\n                    ],\n                    type=\"aggregate\"\n                }\n            ]\n        },\n        {\n            name=\"trellis\",\n            source=\"tuples\",\n            transform=[\n                {\n                    groupby=[\n                        \"a\"\n                    ],\n                    type=\"aggregate\"\n                },\n                {\n                    as=\"span\",\n                    expr=\"rangeStep * bandspace(datum.count, innerPadding, outerPadding)\",\n                    type=\"formula\"\n                },\n                {\n                    field=\"span\",\n                    type=\"stack\"\n                },\n                {\n                    field=\"y1\",\n                    signal=\"trellisExtent\",\n                    type=\"extent\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"xscale\",\n            nice=true,\n            zero=true,\n            range=\"width\",\n            domain={\n                data=\"tuples\",\n                field=\"c\"\n            },\n            round=true\n        },\n        {\n            name=\"color\",\n            range=\"category\",\n            domain={\n                data=\"trellis\",\n                field=\"a\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=300,\n    autosize=\"pad\",\n    signals=[\n        {\n            name=\"rangeStep\",\n            bind={\n                step=1,\n                max=50,\n                min=5,\n                input=\"range\"\n            },\n            value=20\n        },\n        {\n            name=\"innerPadding\",\n            bind={\n                step=0.01,\n                max=0.7,\n                min=0,\n                input=\"range\"\n            },\n            value=0.1\n        },\n        {\n            name=\"outerPadding\",\n            bind={\n                step=0.01,\n                max=0.4,\n                min=0,\n                input=\"range\"\n            },\n            value=0.2\n        },\n        {\n            name=\"height\",\n            update=\"trellisExtent[1]\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_bar_charts/#Population-Pyramid-1","page":"Bar Charts","title":"Population Pyramid","text":"","category":"section"},{"location":"examples/examples_vega_bar_charts/#","page":"Bar Charts","title":"Bar Charts","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=400,\n    padding=5,\n    marks=[\n        {\n            encode={\n                enter={\n                    align={\n                        value=\"center\"\n                    },\n                    x={\n                        signal=\"chartWidth + chartPad / 2\"\n                    },\n                    text={\n                        field=\"age\"\n                    },\n                    baseline={\n                        value=\"middle\"\n                    },\n                    fill={\n                        value=\"#000\"\n                    },\n                    y={\n                        field=\"age\",\n                        scale=\"y\",\n                        band=0.5\n                    }\n                }\n            },\n            interactive=false,\n            from={\n                data=\"ageGroups\"\n            },\n            type=\"text\"\n        },\n        {\n            marks=[\n                {\n                    encode={\n                        enter={\n                            height={\n                                offset=-1,\n                                scale=\"y\",\n                                band=1\n                            },\n                            x2={\n                                value=0,\n                                scale=\"x\"\n                            },\n                            x={\n                                field=\"people\",\n                                scale=\"x\"\n                            },\n                            fillOpacity={\n                                value=0.6\n                            },\n                            fill={\n                                field=\"sex\",\n                                scale=\"c\"\n                            },\n                            y={\n                                field=\"age\",\n                                scale=\"y\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"females\"\n                    },\n                    type=\"rect\"\n                }\n            ],\n            encode={\n                update={\n                    height={\n                        signal=\"height\"\n                    },\n                    x={\n                        value=0\n                    }\n                }\n            },\n            axes=[\n                {\n                    format=\"s\",\n                    title=\"Females\",\n                    scale=\"x\",\n                    orient=\"bottom\"\n                }\n            ],\n            scales=[\n                {\n                    name=\"x\",\n                    nice=true,\n                    zero=true,\n                    range=[\n                        {\n                            signal=\"chartWidth\"\n                        },\n                        0\n                    ],\n                    domain={\n                        data=\"population\",\n                        field=\"people\"\n                    },\n                    type=\"linear\"\n                }\n            ],\n            type=\"group\"\n        },\n        {\n            marks=[\n                {\n                    encode={\n                        enter={\n                            height={\n                                offset=-1,\n                                scale=\"y\",\n                                band=1\n                            },\n                            x2={\n                                value=0,\n                                scale=\"x\"\n                            },\n                            x={\n                                field=\"people\",\n                                scale=\"x\"\n                            },\n                            fillOpacity={\n                                value=0.6\n                            },\n                            fill={\n                                field=\"sex\",\n                                scale=\"c\"\n                            },\n                            y={\n                                field=\"age\",\n                                scale=\"y\"\n                            }\n                        }\n                    },\n                    from={\n                        data=\"males\"\n                    },\n                    type=\"rect\"\n                }\n            ],\n            encode={\n                update={\n                    height={\n                        signal=\"height\"\n                    },\n                    x={\n                        signal=\"chartWidth + chartPad\"\n                    }\n                }\n            },\n            axes=[\n                {\n                    format=\"s\",\n                    title=\"Males\",\n                    scale=\"x\",\n                    orient=\"bottom\"\n                }\n            ],\n            scales=[\n                {\n                    name=\"x\",\n                    nice=true,\n                    zero=true,\n                    range=[\n                        0,\n                        {\n                            signal=\"chartWidth\"\n                        }\n                    ],\n                    domain={\n                        data=\"population\",\n                        field=\"people\"\n                    },\n                    type=\"linear\"\n                }\n            ],\n            type=\"group\"\n        }\n    ],\n    data=[\n        :population => dataset(\"population\"),\n        {\n            name=\"popYear\",\n            source=\"population\",\n            transform=[\n                {\n                    expr=\"datum.year == year\",\n                    type=\"filter\"\n                }\n            ]\n        },\n        {\n            name=\"males\",\n            source=\"popYear\",\n            transform=[\n                {\n                    expr=\"datum.sex == 1\",\n                    type=\"filter\"\n                }\n            ]\n        },\n        {\n            name=\"females\",\n            source=\"popYear\",\n            transform=[\n                {\n                    expr=\"datum.sex == 2\",\n                    type=\"filter\"\n                }\n            ]\n        },\n        {\n            name=\"ageGroups\",\n            source=\"population\",\n            transform=[\n                {\n                    groupby=[\n                        \"age\"\n                    ],\n                    type=\"aggregate\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"y\",\n            range=[\n                {\n                    signal=\"height\"\n                },\n                0\n            ],\n            domain={\n                data=\"ageGroups\",\n                field=\"age\"\n            },\n            type=\"band\",\n            round=true\n        },\n        {\n            name=\"c\",\n            range=[\n                \"#d5855a\",\n                \"#6c4e97\"\n            ],\n            domain=[\n                1,\n                2\n            ],\n            type=\"ordinal\"\n        }\n    ],\n    signals=[\n        {\n            name=\"chartWidth\",\n            value=300\n        },\n        {\n            name=\"chartPad\",\n            value=20\n        },\n        {\n            name=\"width\",\n            update=\"2 * chartWidth + chartPad\"\n        },\n        {\n            name=\"year\",\n            bind={\n                step=10,\n                max=2000,\n                min=1850,\n                input=\"range\"\n            },\n            value=2000\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_box_plots/#Box-Plots-1","page":"Box Plots","title":"Box Plots","text":"","category":"section"},{"location":"examples/examples_box_plots/#Box-Plot-with-Min/Max-Whiskers-1","page":"Box Plots","title":"Box Plot with Min/Max Whiskers","text":"","category":"section"},{"location":"examples/examples_box_plots/#","page":"Box Plots","title":"Box Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    mark={:boxplot, extent=\"min-max\"},\n    x=\"age:o\",\n    y={:people, axis={title=\"population\"}}\n)","category":"page"},{"location":"examples/examples_box_plots/#Tukey-Box-Plot-(1.5-IQR)-1","page":"Box Plots","title":"Tukey Box Plot (1.5 IQR)","text":"","category":"section"},{"location":"examples/examples_box_plots/#","page":"Box Plots","title":"Box Plots","text":"using VegaLite, VegaDatasets\n\ndataset(\"population\") |>\n@vlplot(\n    mark={:boxplot, extend=1.5},\n    x=\"age:o\",\n    y={:people, axis={title=\"population\"}},\n    size={value=5}\n)","category":"page"},{"location":"#VegaLite.jl-1","page":"Home","title":"VegaLite.jl","text":"","category":"section"},{"location":"#Overview-1","page":"Home","title":"Overview","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"VegaLite.jl is a plotting package for the Julia programming language. The package is based on Vega-Lite, which extends a traditional grammar of graphics API into a grammar of interactive graphics. Along with Vega-Lite, there is basic support for Vega graphics.","category":"page"},{"location":"#","page":"Home","title":"Home","text":"VegaLite.jl allows you to create a wide range of statistical plots. It exposes the full functionality of the underlying Vega-Lite and is a the same time tightly integrated into the Julia ecosystem. Here is an example of a scatter plot:","category":"page"},{"location":"#","page":"Home","title":"Home","text":"using VegaLite, VegaDatasets\n\ndataset(\"cars\") |>\n@vlplot(\n    :point,\n    x=:Horsepower,\n    y=:Miles_per_Gallon,\n    color=:Origin,\n    width=400,\n    height=400\n)","category":"page"},{"location":"examples/examples_vega_tree_diagrams/#Tree-Diagrams-1","page":"Tree Diagrams","title":"Tree Diagrams","text":"","category":"section"},{"location":"examples/examples_vega_tree_diagrams/#Tree-Layout-1","page":"Tree Diagrams","title":"Tree Layout","text":"","category":"section"},{"location":"examples/examples_vega_tree_diagrams/#","page":"Tree Diagrams","title":"Tree Diagrams","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=1600,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    stroke={\n                        value=\"#ccc\"\n                    },\n                    path={\n                        field=\"path\"\n                    }\n                }\n            },\n            from={\n                data=\"links\"\n            },\n            type=\"path\"\n        },\n        {\n            encode={\n                update={\n                    x={\n                        field=\"x\"\n                    },\n                    fill={\n                        field=\"depth\",\n                        scale=\"color\"\n                    },\n                    y={\n                        field=\"y\"\n                    }\n                },\n                enter={\n                    stroke={\n                        value=\"#fff\"\n                    },\n                    size={\n                        value=100\n                    }\n                }\n            },\n            from={\n                data=\"tree\"\n            },\n            type=\"symbol\"\n        },\n        {\n            encode={\n                update={\n                    align={\n                        signal=\"datum.children ? 'right' : 'left'\"\n                    },\n                    x={\n                        field=\"x\"\n                    },\n                    dx={\n                        signal=\"datum.children ? -7 : 7\"\n                    },\n                    opacity={\n                        signal=\"labels ? 1 : 0\"\n                    },\n                    y={\n                        field=\"y\"\n                    }\n                },\n                enter={\n                    fontSize={\n                        value=9\n                    },\n                    text={\n                        field=\"name\"\n                    },\n                    baseline={\n                        value=\"middle\"\n                    }\n                }\n            },\n            from={\n                data=\"tree\"\n            },\n            type=\"text\"\n        }\n    ],\n    data=[\n        {\n            name=\"tree\",\n            values=dataset(\"flare\"),\n            transform=[\n                {\n                    key=\"id\",\n                    parentKey=\"parent\",\n                    type=\"stratify\"\n                },\n                {\n                    method={\n                        signal=\"layout\"\n                    },\n                    separation={\n                        signal=\"separation\"\n                    },\n                    as=[\n                        \"y\",\n                        \"x\",\n                        \"depth\",\n                        \"children\"\n                    ],\n                    size=[\n                        {\n                            signal=\"height\"\n                        },\n                        {\n                            signal=\"width - 100\"\n                        }\n                    ],\n                    type=\"tree\"\n                }\n            ]\n        },\n        {\n            name=\"links\",\n            source=\"tree\",\n            transform=[\n                {\n                    type=\"treelinks\"\n                },\n                {\n                    shape={\n                        signal=\"links\"\n                    },\n                    type=\"linkpath\",\n                    orient=\"horizontal\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"color\",\n            zero=true,\n            range={\n                scheme=\"magma\"\n            },\n            domain={\n                data=\"tree\",\n                field=\"depth\"\n            },\n            type=\"linear\"\n        }\n    ],\n    width=600,\n    signals=[\n        {\n            name=\"labels\",\n            bind={\n                input=\"checkbox\"\n            },\n            value=true\n        },\n        {\n            name=\"layout\",\n            bind={\n                options=[\n                    \"tidy\",\n                    \"cluster\"\n                ],\n                input=\"radio\"\n            },\n            value=\"tidy\"\n        },\n        {\n            name=\"links\",\n            bind={\n                options=[\n                    \"line\",\n                    \"curve\",\n                    \"diagonal\",\n                    \"orthogonal\"\n                ],\n                input=\"select\"\n            },\n            value=\"diagonal\"\n        },\n        {\n            name=\"separation\",\n            bind={\n                input=\"checkbox\"\n            },\n            value=false\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_tree_diagrams/#Radial-Tree-Layout-1","page":"Tree Diagrams","title":"Radial Tree Layout","text":"","category":"section"},{"location":"examples/examples_vega_tree_diagrams/#","page":"Tree Diagrams","title":"Tree Diagrams","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=720,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    stroke={\n                        value=\"#ccc\"\n                    },\n                    x={\n                        signal=\"originX\"\n                    },\n                    path={\n                        field=\"path\"\n                    },\n                    y={\n                        signal=\"originY\"\n                    }\n                }\n            },\n            from={\n                data=\"links\"\n            },\n            type=\"path\"\n        },\n        {\n            encode={\n                update={\n                    x={\n                        field=\"x\"\n                    },\n                    fill={\n                        field=\"depth\",\n                        scale=\"color\"\n                    },\n                    y={\n                        field=\"y\"\n                    }\n                },\n                enter={\n                    stroke={\n                        value=\"#fff\"\n                    },\n                    size={\n                        value=100\n                    }\n                }\n            },\n            from={\n                data=\"tree\"\n            },\n            type=\"symbol\"\n        },\n        {\n            encode={\n                update={\n                    align={\n                        signal=\"datum.leftside ? 'right' : 'left'\"\n                    },\n                    x={\n                        field=\"x\"\n                    },\n                    dx={\n                        signal=\"(datum.leftside ? -1 : 1) * 6\"\n                    },\n                    angle={\n                        signal=\"datum.leftside ? datum.angle - 180 : datum.angle\"\n                    },\n                    opacity={\n                        signal=\"labels ? 1 : 0\"\n                    },\n                    y={\n                        field=\"y\"\n                    }\n                },\n                enter={\n                    fontSize={\n                        value=9\n                    },\n                    text={\n                        field=\"name\"\n                    },\n                    baseline={\n                        value=\"middle\"\n                    }\n                }\n            },\n            from={\n                data=\"tree\"\n            },\n            type=\"text\"\n        }\n    ],\n    data=[\n        {\n            name=\"tree\",\n            values=dataset(\"flare\"),\n            transform=[\n                {\n                    key=\"id\",\n                    parentKey=\"parent\",\n                    type=\"stratify\"\n                },\n                {\n                    method={\n                        signal=\"layout\"\n                    },\n                    as=[\n                        \"alpha\",\n                        \"radius\",\n                        \"depth\",\n                        \"children\"\n                    ],\n                    size=[\n                        1,\n                        {\n                            signal=\"radius\"\n                        }\n                    ],\n                    type=\"tree\"\n                },\n                {\n                    as=\"angle\",\n                    expr=\"(rotate + extent * datum.alpha + 270) % 360\",\n                    type=\"formula\"\n                },\n                {\n                    as=\"radians\",\n                    expr=\"PI * datum.angle / 180\",\n                    type=\"formula\"\n                },\n                {\n                    as=\"leftside\",\n                    expr=\"inrange(datum.angle, [90, 270])\",\n                    type=\"formula\"\n                },\n                {\n                    as=\"x\",\n                    expr=\"originX + datum.radius * cos(datum.radians)\",\n                    type=\"formula\"\n                },\n                {\n                    as=\"y\",\n                    expr=\"originY + datum.radius * sin(datum.radians)\",\n                    type=\"formula\"\n                }\n            ]\n        },\n        {\n            name=\"links\",\n            source=\"tree\",\n            transform=[\n                {\n                    type=\"treelinks\"\n                },\n                {\n                    targetX=\"target.radians\",\n                    shape={\n                        signal=\"links\"\n                    },\n                    sourceX=\"source.radians\",\n                    targetY=\"target.radius\",\n                    type=\"linkpath\",\n                    orient=\"radial\",\n                    sourceY=\"source.radius\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"color\",\n            zero=true,\n            range={\n                scheme=\"magma\"\n            },\n            domain={\n                data=\"tree\",\n                field=\"depth\"\n            },\n            type=\"linear\"\n        }\n    ],\n    width=720,\n    autosize=\"none\",\n    signals=[\n        {\n            name=\"labels\",\n            bind={\n                input=\"checkbox\"\n            },\n            value=true\n        },\n        {\n            name=\"radius\",\n            bind={\n                max=600,\n                min=20,\n                input=\"range\"\n            },\n            value=280\n        },\n        {\n            name=\"extent\",\n            bind={\n                step=1,\n                max=360,\n                min=0,\n                input=\"range\"\n            },\n            value=360\n        },\n        {\n            name=\"rotate\",\n            bind={\n                step=1,\n                max=360,\n                min=0,\n                input=\"range\"\n            },\n            value=0\n        },\n        {\n            name=\"layout\",\n            bind={\n                options=[\n                    \"tidy\",\n                    \"cluster\"\n                ],\n                input=\"radio\"\n            },\n            value=\"tidy\"\n        },\n        {\n            name=\"links\",\n            bind={\n                options=[\n                    \"line\",\n                    \"curve\",\n                    \"diagonal\",\n                    \"orthogonal\"\n                ],\n                input=\"select\"\n            },\n            value=\"line\"\n        },\n        {\n            name=\"originX\",\n            update=\"width / 2\"\n        },\n        {\n            name=\"originY\",\n            update=\"height / 2\"\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_tree_diagrams/#Treemap-1","page":"Tree Diagrams","title":"Treemap","text":"","category":"section"},{"location":"examples/examples_vega_tree_diagrams/#","page":"Tree Diagrams","title":"Tree Diagrams","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=500,\n    padding=2.5,\n    marks=[\n        {\n            encode={\n                update={\n                    x2={\n                        field=\"x1\"\n                    },\n                    x={\n                        field=\"x0\"\n                    },\n                    y2={\n                        field=\"y1\"\n                    },\n                    y={\n                        field=\"y0\"\n                    }\n                },\n                enter={\n                    fill={\n                        field=\"name\",\n                        scale=\"color\"\n                    }\n                }\n            },\n            interactive=false,\n            from={\n                data=\"nodes\"\n            },\n            type=\"rect\"\n        },\n        {\n            encode={\n                update={\n                    x2={\n                        field=\"x1\"\n                    },\n                    x={\n                        field=\"x0\"\n                    },\n                    y2={\n                        field=\"y1\"\n                    },\n                    fill={\n                        value=\"transparent\"\n                    },\n                    y={\n                        field=\"y0\"\n                    }\n                },\n                hover={\n                    fill={\n                        value=\"red\"\n                    }\n                },\n                enter={\n                    stroke={\n                        value=\"#fff\"\n                    }\n                }\n            },\n            from={\n                data=\"leaves\"\n            },\n            type=\"rect\"\n        },\n        {\n            encode={\n                update={\n                    x={\n                        signal=\"0.5 * (datum.x0 + datum.x1)\"\n                    },\n                    y={\n                        signal=\"0.5 * (datum.y0 + datum.y1)\"\n                    }\n                },\n                enter={\n                    fillOpacity={\n                        field=\"depth\",\n                        scale=\"opacity\"\n                    },\n                    font={\n                        value=\"Helvetica Neue, Arial\"\n                    },\n                    fontSize={\n                        field=\"depth\",\n                        scale=\"size\"\n                    },\n                    fill={\n                        value=\"#000\"\n                    },\n                    baseline={\n                        value=\"middle\"\n                    },\n                    text={\n                        field=\"name\"\n                    },\n                    align={\n                        value=\"center\"\n                    }\n                }\n            },\n            interactive=false,\n            from={\n                data=\"nodes\"\n            },\n            type=\"text\"\n        }\n    ],\n    data=[\n        {\n            name=\"tree\",\n            values=dataset(\"flare\"),\n            transform=[\n                {\n                    key=\"id\",\n                    parentKey=\"parent\",\n                    type=\"stratify\"\n                },\n                {\n                    method={\n                        signal=\"layout\"\n                    },\n                    sort={\n                        field=\"value\"\n                    },\n                    ratio={\n                        signal=\"aspectRatio\"\n                    },\n                    field=\"size\",\n                    size=[\n                        {\n                            signal=\"width\"\n                        },\n                        {\n                            signal=\"height\"\n                        }\n                    ],\n                    type=\"treemap\",\n                    round=true\n                }\n            ]\n        },\n        {\n            name=\"nodes\",\n            source=\"tree\",\n            transform=[\n                {\n                    expr=\"datum.children\",\n                    type=\"filter\"\n                }\n            ]\n        },\n        {\n            name=\"leaves\",\n            source=\"tree\",\n            transform=[\n                {\n                    expr=\"!datum.children\",\n                    type=\"filter\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"color\",\n            range=[\n                \"#3182bd\",\n                \"#6baed6\",\n                \"#9ecae1\",\n                \"#c6dbef\",\n                \"#e6550d\",\n                \"#fd8d3c\",\n                \"#fdae6b\",\n                \"#fdd0a2\",\n                \"#31a354\",\n                \"#74c476\",\n                \"#a1d99b\",\n                \"#c7e9c0\",\n                \"#756bb1\",\n                \"#9e9ac8\",\n                \"#bcbddc\",\n                \"#dadaeb\",\n                \"#636363\",\n                \"#969696\",\n                \"#bdbdbd\",\n                \"#d9d9d9\"\n            ],\n            domain={\n                data=\"nodes\",\n                field=\"name\"\n            },\n            type=\"ordinal\"\n        },\n        {\n            name=\"size\",\n            range=[\n                256,\n                28,\n                20,\n                14\n            ],\n            domain=[\n                0,\n                1,\n                2,\n                3\n            ],\n            type=\"ordinal\"\n        },\n        {\n            name=\"opacity\",\n            range=[\n                0.15,\n                0.5,\n                0.8,\n                1.0\n            ],\n            domain=[\n                0,\n                1,\n                2,\n                3\n            ],\n            type=\"ordinal\"\n        }\n    ],\n    width=960,\n    autosize=\"none\",\n    signals=[\n        {\n            name=\"layout\",\n            bind={\n                options=[\n                    \"squarify\",\n                    \"binary\",\n                    \"slicedice\"\n                ],\n                input=\"select\"\n            },\n            value=\"squarify\"\n        },\n        {\n            name=\"aspectRatio\",\n            bind={\n                step=0.1,\n                max=5,\n                min=1,\n                input=\"range\"\n            },\n            value=1.6\n        }\n    ]\n)","category":"page"},{"location":"examples/examples_vega_tree_diagrams/#Circle-Packing-1","page":"Tree Diagrams","title":"Circle Packing","text":"","category":"section"},{"location":"examples/examples_vega_tree_diagrams/#","page":"Tree Diagrams","title":"Tree Diagrams","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=600,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    stroke={\n                        value=\"white\"\n                    },\n                    x={\n                        field=\"x\"\n                    },\n                    strokeWidth={\n                        value=0.5\n                    },\n                    size={\n                        signal=\"4 * datum.r * datum.r\"\n                    },\n                    y={\n                        field=\"y\"\n                    }\n                },\n                hover={\n                    stroke={\n                        value=\"red\"\n                    },\n                    strokeWidth={\n                        value=2\n                    }\n                },\n                enter={\n                    shape={\n                        value=\"circle\"\n                    },\n                    tooltip={\n                        signal=\"datum.name + (datum.size ? ', ' + datum.size + ' bytes' : '')\"\n                    },\n                    fill={\n                        field=\"depth\",\n                        scale=\"color\"\n                    }\n                }\n            },\n            from={\n                data=\"tree\"\n            },\n            type=\"symbol\"\n        }\n    ],\n    data=[\n        {\n            name=\"tree\",\n            values=dataset(\"flare\"),\n            transform=[\n                {\n                    key=\"id\",\n                    parentKey=\"parent\",\n                    type=\"stratify\"\n                },\n                {\n                    sort={\n                        field=\"value\"\n                    },\n                    field=\"size\",\n                    size=[\n                        {\n                            signal=\"width\"\n                        },\n                        {\n                            signal=\"height\"\n                        }\n                    ],\n                    type=\"pack\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"color\",\n            range={\n                scheme=\"category20\"\n            },\n            domain={\n                data=\"tree\",\n                field=\"depth\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=600,\n    autosize=\"none\"\n)","category":"page"},{"location":"examples/examples_vega_tree_diagrams/#Sunburst-1","page":"Tree Diagrams","title":"Sunburst","text":"","category":"section"},{"location":"examples/examples_vega_tree_diagrams/#","page":"Tree Diagrams","title":"Tree Diagrams","text":"using VegaLite, VegaDatasets\n\n@vgplot(\n    height=600,\n    padding=5,\n    marks=[\n        {\n            encode={\n                update={\n                    innerRadius={\n                        field=\"r0\"\n                    },\n                    startAngle={\n                        field=\"a0\"\n                    },\n                    stroke={\n                        value=\"white\"\n                    },\n                    endAngle={\n                        field=\"a1\"\n                    },\n                    outerRadius={\n                        field=\"r1\"\n                    },\n                    strokeWidth={\n                        value=0.5\n                    },\n                    zindex={\n                        value=0\n                    }\n                },\n                hover={\n                    stroke={\n                        value=\"red\"\n                    },\n                    strokeWidth={\n                        value=2\n                    },\n                    zindex={\n                        value=1\n                    }\n                },\n                enter={\n                    tooltip={\n                        signal=\"datum.name + (datum.size ? ', ' + datum.size + ' bytes' : '')\"\n                    },\n                    x={\n                        signal=\"width / 2\"\n                    },\n                    fill={\n                        field=\"depth\",\n                        scale=\"color\"\n                    },\n                    y={\n                        signal=\"height / 2\"\n                    }\n                }\n            },\n            from={\n                data=\"tree\"\n            },\n            type=\"arc\"\n        }\n    ],\n    data=[\n        {\n            name=\"tree\",\n            values=dataset(\"flare\"),\n            transform=[\n                {\n                    key=\"id\",\n                    parentKey=\"parent\",\n                    type=\"stratify\"\n                },\n                {\n                    sort={\n                        field=\"value\"\n                    },\n                    field=\"size\",\n                    as=[\n                        \"a0\",\n                        \"r0\",\n                        \"a1\",\n                        \"r1\",\n                        \"depth\",\n                        \"children\"\n                    ],\n                    size=[\n                        {\n                            signal=\"2 * PI\"\n                        },\n                        {\n                            signal=\"width / 2\"\n                        }\n                    ],\n                    type=\"partition\"\n                }\n            ]\n        }\n    ],\n    scales=[\n        {\n            name=\"color\",\n            range={\n                scheme=\"tableau20\"\n            },\n            domain={\n                data=\"tree\",\n                field=\"depth\"\n            },\n            type=\"ordinal\"\n        }\n    ],\n    width=600,\n    autosize=\"none\"\n)","category":"page"}]
}
